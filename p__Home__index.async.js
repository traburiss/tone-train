"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[371],{30558:function(Jo,Ae,f){f.r(Ae),f.d(Ae,{default:function(){return Vo}});var Le=f(26068),T=f.n(Le),Pe=f(48305),N=f.n(Pe),Yo="Umi Max",Re="12Tone",Ze=[{label:"\u5341\u4E8C\u97F3\u9636",value:"12Tone"},{label:"\u516B\u5EA6\u97F3\u9636",value:"8Tone"},{label:"\u5409\u4ED6\u548C\u5F26",value:"GuitarChords"}],Ce="guitar-acoustic",Ie=[{label:"\u539F\u58F0\u5409\u4ED6",value:"guitar-acoustic"},{label:"\u7535\u5409\u4ED6",value:"guitar-electric"},{label:"\u94A2\u7434",value:"piano"}],Z=["C","D","E","F","G","A","B"],ge=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],U=[2,3,4,5,6],Xo=U.flatMap(function(v){return Z.map(function(o){return"".concat(o).concat(v)})}),Ko=U.flatMap(function(v){return ge.map(function(o){return"".concat(o).concat(v)})}),q=["C","D","E","F","G","A","B","Em","Am","Dm","Bm","F#m","C#m","Gm","C5","D5","E5","F5","G5","A5","B5","G7","C7","D7","E7","A7","B7","Cmaj7","Gmaj7","Fmaj7","Amaj7","Am7","Em7","Dm7","Bm7","F#m7","Dsus4","Asus4","Esus4","D/F#","C/G","G/B"],Fe=["C","D","G","A","Em","Am","Dm"],Me=[3,4,5].flatMap(function(v){return Z.map(function(o){return"".concat(o).concat(v)})}),we=[{label:"\u65E0\u9650",value:"0"},{label:"20\u6B21",value:"20"},{label:"50\u6B21",value:"50"},{label:"200\u6B21",value:"200"},{label:"\u624B\u52A8\u8F93\u5165",value:"custom"}],Ue=!0,We=!1,ke=1500,Ve=!1,He=1500,H=100,z=10*1e3,$=100,J=function(o){var l=Number(o);if(isNaN(l))return"".concat(o);var t=Math.floor(l/1e3),m="";if(t<60)m="".concat(t,"\u79D2");else{var A=Math.floor(t/60),F=t%60;m="".concat(A,"\u5206"),F>0&&(m+="".concat(F,"\u79D2"))}return"".concat(l," \u6BEB\u79D2 (").concat(m,")")},ze=1e3,$e=1500,Je=2e3,Ye=1,Xe=!0,Ke=[{label:"C2",value:"C2"},{label:"C3",value:"C3"},{label:"C4",value:"C4"},{label:"C5",value:"C5"},{label:"C6",value:"C6"}],W={toneType:Re,instrumentName:Ce,toneList:Me,toneDuration:ze,toneWait:$e,ttsEnable:Ue,ttsWait:Je,ttsRate:Ye,ttsSolfege:We,ttsSolfegeWait:ke,ttsNotation:Ve,ttsNotationWait:He,random:Xe,loopCount:0,referenceNoteEnabled:!1,referenceNote:"C4"},j=f(40334),ae=f(76582),P=f(99063),Qe=f(4827),Y=f(81485),qe=f(39493),re=f(29219),x=f(75271),e=f(52676),_e=function(){return(0,e.jsxs)(re.Z,{title:"\u57FA\u7840\u914D\u7F6E",className:"mb-3 sm:mb-6",children:[(0,e.jsx)(j.A.Group,{children:(0,e.jsx)(ae.Z.Group,{name:"instrumentName",label:"\u97F3\u8272\u9009\u62E9",tooltip:"\u7528\u6237\u53EF\u4EE5\u9009\u62E9\u81EA\u5DF1\u4E60\u60EF\u7684\u97F3\u8272\u6765\u542C\u97F3\u540D\u64AD\u653E",radioType:"button",fieldProps:{buttonStyle:"solid"},options:Ie})}),(0,e.jsxs)(j.A.Group,{children:[(0,e.jsx)(ae.Z.Group,{name:"loopCountType",label:"\u5FAA\u73AF\u6B21\u6570",tooltip:"\u7528\u6237\u53EF\u4EE5\u9009\u62E9\u5FAA\u73AF\u6B21\u6570\uFF0C\u6216\u8005\u81EA\u5B9A\u4E49\u5FAA\u73AF\u6B21\u6570",radioType:"button",fieldProps:{buttonStyle:"solid"},options:we}),(0,e.jsx)(P.Z,{name:["loopCountType"],children:function(l){var t=l.loopCountType;return t==="custom"&&(0,e.jsx)(Qe.Z,{name:"loopCountCustom",label:" ",width:"xs",placeholder:"\u6B21\u6570",min:1,max:1e3,fieldProps:{precision:0}})}})]}),(0,e.jsx)(j.A.Group,{children:(0,e.jsx)(Y.Z,{name:"random",label:"\u968F\u673A\u64AD\u653E",tooltip:"\u4E0D\u8981\u6309\u7167\u97F3\u9636\u987A\u5E8F\u64AD\u653E\u97F3\u9636"})}),(0,e.jsxs)(j.A.Group,{children:[(0,e.jsx)(Y.Z,{name:"referenceNoteEnabled",label:"\u64AD\u653E\u57FA\u51C6",tooltip:"\u64AD\u653E\u97F3\u9636\u65F6\uFF0C\u4F1A\u5148\u64AD\u653E\u57FA\u51C6\u97F3\uFF0C\u518D\u64AD\u653E\u97F3\u9636\uFF0C\u4EE5\u964D\u4F4E\u96BE\u5EA6"}),(0,e.jsx)(P.Z,{name:["referenceNoteEnabled"],children:function(l){var t=l.referenceNoteEnabled;return t&&(0,e.jsx)(qe.Z,{name:"referenceNote",label:" ",width:"xs",options:Ke,placeholder:"\u9009\u62E9\u57FA\u51C6\u97F3"})}})]})]})},eo=_e,k=f(24871),oo=function(){return(0,e.jsxs)(re.Z,{title:"\u64AD\u653E\u914D\u7F6E",className:"mb-3 sm:mb-6",children:[(0,e.jsxs)(j.A.Group,{title:"\u65F6\u95F4\u8BBE\u7F6E",children:[(0,e.jsx)(k.Z,{name:"toneDuration",label:"\u97F3\u9636\u65F6\u957F",width:"md",min:H,max:z,step:$,fieldProps:{tooltip:{formatter:J}}}),(0,e.jsx)(k.Z,{name:"toneWait",label:"\u97F3\u9636\u64AD\u540E\u7B49\u5F85",width:"md",min:H,max:z,step:$,fieldProps:{tooltip:{formatter:J}}})]}),(0,e.jsxs)(j.A.Group,{title:"\u97F3\u540D\u64AD\u62A5\u8BBE\u7F6E",children:[(0,e.jsx)(Y.Z,{name:"ttsEnable",label:"\u8BED\u97F3\u62A5\u97F3\u540D",tooltip:"\u6BCF\u6B21\u7ED3\u675F\u540E\u64AD\u62A5\u97F3\u540D"}),(0,e.jsx)(P.Z,{name:["ttsEnable"],children:function(l){var t=l.ttsEnable;return t&&(0,e.jsx)(k.Z,{name:"ttsRate",label:"\u62A5\u97F3\u9636\u8BED\u901F",tooltip:"\u500D\u6570\u8D8A\u5927\u8D8A\u6162",width:"md",min:.5,max:4,step:.1,fieldProps:{tooltip:{formatter:function(A){return"".concat(A,"x \u65F6\u957F")}}}})}}),(0,e.jsx)(P.Z,{name:["ttsEnable"],children:function(l){var t=l.ttsEnable;return t&&(0,e.jsx)(k.Z,{name:"ttsWait",label:"\u62A5\u97F3\u540D\u540E\u7B49\u5F85",width:"md",min:H,max:z,step:$,fieldProps:{tooltip:{formatter:J}}})}})]}),(0,e.jsx)(P.Z,{name:["ttsEnable"],children:function(l){var t=l.ttsEnable;return t&&(0,e.jsxs)(j.A.Group,{children:[(0,e.jsx)(Y.Z,{name:"ttsSolfege",label:"\u989D\u5916\u62A5\u5531\u540D",tooltip:"\u62A5\u5B8C\u97F3\u540D\u540E\uFF0C\u8FFD\u52A0\u5531\u540D\uFF08\u5982\uFF1ADo\uFF09"}),(0,e.jsx)(P.Z,{name:["ttsSolfege"],children:function(A){var F=A.ttsSolfege;return F&&(0,e.jsx)(k.Z,{name:"ttsSolfegeWait",label:"\u5531\u540D\u95F4\u9694",width:"sm",min:H,max:z,step:$,fieldProps:{tooltip:{formatter:J}}})}})]})}}),(0,e.jsx)(P.Z,{name:["ttsEnable"],children:function(l){var t=l.ttsEnable;return t&&(0,e.jsxs)(j.A.Group,{children:[(0,e.jsx)(Y.Z,{name:"ttsNotation",label:"\u989D\u5916\u62A5\u7B80\u8C31",tooltip:"\u62A5\u5B8C\u97F3\u540D\u540E\uFF0C\u8FFD\u52A0\u7B80\u8C31\u8BB0\u53F7\uFF08\u5982\uFF1A1\uFF09"}),(0,e.jsx)(P.Z,{name:["ttsNotation"],children:function(A){var F=A.ttsNotation;return F&&(0,e.jsx)(k.Z,{name:"ttsNotationWait",label:"\u7B80\u8C31\u95F4\u9694",width:"sm",min:H,max:z,step:$,fieldProps:{tooltip:{formatter:J}}})}})]})}})]})},to=oo,no=f(15558),se=f.n(no),go=f(1059),ao=f(72783),ro=f(93817),de=f(36065),_=f(79662),M=f(95216),so={C:"Do","C#":"\u5347Do",D:"Re","D#":"\u5347Re",E:"Mi",F:"Fa","F#":"\u5347Fa",G:"Sol","G#":"\u5347Sol",A:"La","A#":"\u5347La",B:"Si"},uo={C:"1","C#":"\u53471",D:"2","D#":"\u53472",E:"3",F:"4","F#":"\u53474",G:"5","G#":"\u53475",A:"6","A#":"\u53476",B:"7"},De={C:["C3","E3","G3","C4","E4"],D:["D3","A3","D4","F#4"],E:["E2","B2","E3","G#3","B3","E4"],F:["F2","C3","F3","A3","C4","F4"],G:["G2","B2","D3","G3","B3","G4"],A:["A2","E3","A3","C#4","E4"],B:["B2","F#3","B3","D#4","F#4"],Em:["E2","B2","E3","G3","B3","E4"],Am:["A2","E3","A3","C4","E4"],Dm:["D3","A3","D4","F4"],Bm:["B2","F#3","B3","D4","F#4"],"F#m":["F#2","C#3","F#3","A3","C#4","F#4"],"C#m":["C#3","G#3","C#4","E4","G#4"],Gm:["G2","D3","G3","A#3","D4","G4"],C5:["C3","G3","C4"],D5:["D3","A3","D4"],E5:["E2","B2","E3"],F5:["F2","C3","F3"],G5:["G2","D3","G3"],A5:["A2","E3","A3"],B5:["B2","F#3","B3"],G7:["G2","B2","D3","F3","G3","B3"],C7:["C3","E3","G3","A#3","C4"],D7:["D3","A3","C4","F#4"],E7:["E2","B2","D3","G#3","B3","E4"],A7:["A2","E3","G3","C#4","E4"],B7:["B2","D#3","A3","B3","F#4"],Cmaj7:["C3","E3","G3","B3","E4"],Gmaj7:["G2","D3","F#3","B3","D4"],Fmaj7:["F3","C4","E4","A4"],Amaj7:["A2","E3","G#3","C#4","E4"],Am7:["A2","E3","G3","C4","E4"],Em7:["E2","B2","D3","G3","B3","E4"],Dm7:["D3","A3","C4","F4"],Bm7:["B2","F#3","A3","D4","F#4"],"F#m7":["F#2","C#3","E3","A3","C#4","F#4"],Dsus4:["D3","A3","D4","G4"],Asus4:["A2","E3","A3","D4","E4"],Esus4:["E2","B2","E3","A3","B3","E4"],"D/F#":["F#2","A2","D3","A3","D4","F#4"],"C/G":["G2","C3","E3","G3","C4","E4"],"G/B":["B2","D3","G3","B3","G4"]},lo=function(o){return De[o]||[]},ue={C:[-1,3,2,0,1,0],D:[-1,-1,0,2,3,2],E:[0,2,2,1,0,0],F:[1,3,3,2,1,1],G:[3,2,0,0,0,3],A:[-1,0,2,2,2,0],B:[-1,2,4,4,4,2],Em:[0,2,2,0,0,0],Am:[-1,0,2,2,1,0],Dm:[-1,-1,0,2,3,1],Bm:[-1,2,4,4,3,2],"F#m":[2,4,4,2,2,2],"C#m":[-1,4,6,6,5,4],Gm:[3,5,5,3,3,3],C5:[-1,3,5,5,-1,-1],D5:[-1,5,7,7,-1,-1],E5:[0,2,2,-1,-1,-1],F5:[1,3,3,-1,-1,-1],G5:[3,5,5,-1,-1,-1],A5:[-1,0,2,2,-1,-1],B5:[-1,2,4,4,-1,-1],G7:[3,2,0,0,0,1],C7:[-1,3,2,3,1,0],D7:[-1,-1,0,2,1,2],E7:[0,2,0,1,0,0],A7:[-1,0,2,0,2,0],B7:[-1,2,1,2,0,2],Cmaj7:[-1,3,2,0,0,0],Gmaj7:[3,2,0,0,0,2],Fmaj7:[-1,-1,3,2,1,0],Amaj7:[-1,0,2,1,2,0],Am7:[-1,0,2,0,1,0],Em7:[0,2,2,0,3,0],Dm7:[-1,-1,0,2,1,1],Bm7:[-1,2,4,2,3,2],"F#m7":[2,4,2,2,2,2],Dsus4:[-1,-1,0,2,3,3],Asus4:[-1,0,2,2,3,0],Esus4:[0,2,2,2,0,0],"D/F#":[2,0,0,2,3,2],"C/G":[3,3,2,0,1,0],"G/B":[-1,2,0,0,0,3]},ve=function(o){if(De[o])return{solfege:o,number:o};var l=o.match(/^([A-G]#?)/);if(!l)return{solfege:"",number:""};var t=l[1];return{solfege:so[t]||"",number:uo[t]||""}},io=f(22889),co=function(o){var l=o.name,t=o.fingering,m=o.width,A=m===void 0?60:m,F=o.height,G=F===void 0?80:F,S=6,b=5,O=10,h=20,u=A-O*2,s=G-h*2,a=u/(S-1),g=s/b;return(0,e.jsxs)("div",{className:"flex flex-col items-center",children:[(0,e.jsx)("span",{className:"text-sm font-bold mb-1",children:l}),(0,e.jsx)("svg",{width:A,height:G,viewBox:"0 0 ".concat(A," ").concat(G),children:(0,e.jsxs)("g",{transform:"translate(".concat(O,", ").concat(h,")"),children:[Array.from({length:b+1}).map(function(c,r){return(0,e.jsx)("line",{x1:0,y1:r*g,x2:u,y2:r*g,stroke:"#000",strokeWidth:r===0?2:1},"fret-".concat(r))}),Array.from({length:S}).map(function(c,r){return(0,e.jsx)("line",{x1:r*a,y1:0,x2:r*a,y2:s,stroke:"#000",strokeWidth:1},"string-".concat(r))}),t.map(function(c,r){var n=r*a;if(c===-1)return(0,e.jsx)("text",{x:n,y:-5,fontSize:10,textAnchor:"middle",fill:"#000",children:"X"},"mute-".concat(r));if(c===0)return(0,e.jsx)("text",{x:n,y:-5,fontSize:10,textAnchor:"middle",fill:"#000",children:"O"},"open-".concat(r));var C=(c-1)*g+g/2;return(0,e.jsx)("circle",{cx:n,cy:C,r:Math.min(a,g)*.35,fill:"#000"},"finger-".concat(r))})]})})]})},Ee=co,fo=["C","D","E","F","G","A","B"],mo=["Em","Am","Dm","Bm","F#m","C#m","Gm"],Ao=["C5","D5","E5","F5","G5","A5","B5"],Co=["G7","C7","D7","E7","A7","B7"],Fo=["Cmaj7","Gmaj7","Fmaj7","Amaj7"],Do=["Am7","Em7","Dm7","Bm7","F#m7"],vo=["Dsus4","Asus4","Esus4"],Eo=["D/F#","C/G","G/B"],le=[{label:"\u5927\u4E09\u548C\u5F26 (Major)",value:"Major",chords:fo},{label:"\u5C0F\u4E09\u548C\u5F26 (Minor)",value:"Minor",chords:mo},{label:"\u5C5E\u4E03\u548C\u5F26 (7)",value:"Dom7",chords:Co},{label:"\u5C0F\u4E03\u548C\u5F26 (m7)",value:"m7",chords:Do},{label:"\u5927\u4E03\u548C\u5F26 (maj7)",value:"maj7",chords:Fo},{label:"\u6302\u7559\u548C\u5F26 (sus)",value:"sus",chords:vo},{label:"\u659C\u6760\u548C\u5F26 (Slash)",value:"slash",chords:Eo},{label:"\u5F3A\u529B\u548C\u5F26 (Power)",value:"power",chords:Ao}],Go=["Major","Minor","Dom7","m7"],ho=function(o){var l=o.value,t=o.onChange,m=l||[],A=(0,x.useState)(Go),F=N()(A,2),G=F[0],S=F[1],b=function(s){var a=m.includes(s)?m.filter(function(g){return g!==s}):[].concat(se()(m),[s]);t==null||t(a)},O=function(s){var a=s.every(function(c){return m.includes(c)}),g=se()(m);a?g=g.filter(function(c){return!s.includes(c)}):s.forEach(function(c){g.includes(c)||g.push(c)}),t==null||t(g)},h=function(s,a){var g=a.every(function(c){return m.includes(c)});return(0,e.jsxs)("div",{className:"mb-6 rounded-md border border-gray-100 p-3 bg-gray-50",children:[(0,e.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,e.jsx)("span",{className:"font-bold text-base text-gray-700",children:s}),(0,e.jsx)(M.ZP,{size:"small",onClick:function(){return O(a)},children:g?"\u53D6\u6D88\u5168\u9009":"\u5168\u9009"})]}),(0,e.jsx)("div",{className:"flex flex-wrap gap-2 sm:gap-4 justify-start",children:a.map(function(c){var r=m.includes(c);return(0,e.jsx)("div",{className:`
                  cursor-pointer rounded-lg border-2 p-1 sm:p-2 bg-white transition-all
                  flex flex-col items-center
                  `.concat(r?"border-blue-500 shadow-md":"border-transparent hover:border-gray-200",`
                `),onClick:function(){return b(c)},children:(0,e.jsx)(Ee,{width:50,height:70,name:c,fingering:ue[c]})},c)})})]})};return(0,e.jsxs)("div",{className:"w-full",children:[(0,e.jsx)("div",{className:"mb-4 p-3 bg-white border border-gray-200 rounded-lg",children:(0,e.jsx)(io.Z.Group,{options:le.map(function(u){return{label:u.label,value:u.value}}),value:G,onChange:function(s){var a=s,g=G.filter(function(n){return!a.includes(n)});if(g.length>0){var c=g.flatMap(function(n){var C=le.find(function(E){return E.value===n});return C?C.chords:[]}),r=m.filter(function(n){return!c.includes(n)});t==null||t(r)}S(a)},className:"flex flex-wrap gap-y-2"})}),le.filter(function(u){return G.includes(u.value)}).map(function(u){return(0,e.jsx)("div",{children:h(u.label,u.chords)},u.value)})]})},xo=ho,po=function(){var o=de.Z.useFormInstance(),l=(0,x.useState)([]),t=N()(l,2),m=t[0],A=t[1],F=function(u){A(function(s){return s.includes(u)?s.filter(function(a){return a!==u}):[].concat(se()(s),[u])})},G=function(u,s,a){var g=a.map(function(c){return"".concat(c).concat(u)});o.setFieldValue(["toneListGroup",u],s?g:[])},S=function(u,s){var a=Z.map(function(g){return"".concat(g).concat(u)});o.setFieldValue(["toneListGroup",u],s?a:[])},b=function(u,s){if(s==="GuitarChords"){var a=o.getFieldValue(["toneListGroup","chords"]);!a||a.length===0?o.setFieldValue(["toneListGroup","chords"],Fe):o.setFieldValue("toneListGroup",{chords:u?q:[]});return}var g=s==="8Tone"?Z:ge,c={};U.forEach(function(r){c[r]=u?g.map(function(n){return"".concat(n).concat(r)}):[]}),o.setFieldValue("toneListGroup",c)},O=function(u){var s={};U.forEach(function(a){s[a]=u?Z.map(function(g){return"".concat(g).concat(a)}):[]}),o.setFieldValue("toneListGroup",s)};return(0,e.jsx)(P.Z,{name:["toneType","toneListGroup"],children:function(u){var s=u.toneType,a=u.toneListGroup;return(0,e.jsx)(re.Z,{title:"\u97F3\u9636\u8BBE\u7F6E",className:"scale-card mb-6",extra:(0,e.jsxs)(_.Z,{size:12,wrap:!0,children:[(0,e.jsxs)(_.Z,{size:4,children:[(0,e.jsx)(M.ZP,{size:"small",onClick:function(){return b(!0,s)},children:"\u5168\u9009"}),s!=="8Tone"&&s!=="GuitarChords"&&(0,e.jsx)(M.ZP,{size:"small",onClick:function(){return O(!0)},children:"\u5168\u97F3"})]}),(0,e.jsx)("div",{className:"w-[1px] h-[14px] bg-[#e8e8e8]"}),(0,e.jsx)(ae.Z.Group,{name:"toneType",noStyle:!0,radioType:"button",fieldProps:{onChange:function(c){var r=c.target.value;if(r==="GuitarChords"){var n=o.getFieldValue(["toneListGroup","chords"]);(!n||n.length===0)&&o.setFieldValue(["toneListGroup","chords"],Fe)}}},options:Ze})]}),children:(0,e.jsx)("div",{className:"flex flex-col gap-2",children:s==="GuitarChords"?(0,e.jsxs)("div",{className:"octave-row p-2 sm:p-2.5 border border-[#f0f0f0] rounded-lg bg-[#fafafa] flex flex-col sm:flex-row items-start sm:items-center gap-2 sm:gap-3",children:[(0,e.jsxs)("div",{className:"flex items-center gap-2 shrink-0 w-full sm:w-auto",children:[(0,e.jsx)("span",{className:"font-bold text-[14px] sm:text-[15px] text-[#1a1a1a] mr-1",children:"\u548C\u5F26"}),(0,e.jsx)(_.Z,{size:4,children:(0,e.jsx)(M.ZP,{size:"small",type:((a==null?void 0:a.chords)||[]).length===q.length?"primary":"default",onClick:function(){var c=((a==null?void 0:a.chords)||[]).length===q.length;o.setFieldValue(["toneListGroup","chords"],c?[]:q)},className:"text-[12px]",children:"\u5168\u9009"})}),(0,e.jsxs)("span",{className:"text-[11px] sm:text-[12px] color-[#888] ml-1 min-w-[20px]",children:["(",((a==null?void 0:a.chords)||[]).length,")"]})]}),(0,e.jsx)("div",{className:"hidden sm:block w-[1px] h-6 bg-[#e8e8e8]"}),(0,e.jsx)("div",{className:"flex flex-wrap gap-4 flex-1 w-full justify-center sm:justify-start",children:(0,e.jsx)(de.Z.Item,{name:["toneListGroup","chords"],style:{marginBottom:0,width:"100%"},children:(0,e.jsx)(xo,{})})})]}):U.map(function(g){var c=s==="8Tone"?Z:ge,r=(a==null?void 0:a[g])||[],n=r.length===c.length,C=r.length===Z.length&&Z.every(function(E){return r.includes("".concat(E).concat(g))});return(0,e.jsxs)("div",{className:"octave-row p-2 sm:p-2.5 border border-[#f0f0f0] rounded-lg bg-[#fafafa] flex flex-col sm:flex-row items-start sm:items-center gap-2 sm:gap-3",children:[(0,e.jsxs)("div",{className:"flex items-center gap-2 shrink-0 w-full sm:w-auto",children:[(0,e.jsxs)("span",{className:"font-bold text-[14px] sm:text-[15px] text-[#1a1a1a] mr-1",children:["Oct ",g]}),(0,e.jsxs)(_.Z,{size:4,children:[(0,e.jsx)(M.ZP,{size:"small",type:n?"primary":"default",onClick:function(){return G(g,!n,c)},className:"text-[12px]",children:"\u5168\u9009"}),s!=="8Tone"&&(0,e.jsx)(M.ZP,{size:"small",type:C?"primary":"default",onClick:function(){return S(g,!C)},className:"text-[12px]",children:"\u5168\u97F3"})]}),(0,e.jsxs)("span",{className:"text-[11px] sm:text-[12px] color-[#888] ml-1 min-w-[20px]",children:["(",r.length,")"]}),(0,e.jsx)(M.ZP,{type:"text",size:"small",className:"sm:hidden ml-auto flex items-center gap-1 text-[#1890ff]",onClick:function(){return F(g)},children:m.includes(g)?(0,e.jsxs)(e.Fragment,{children:["\u6536\u8D77 ",(0,e.jsx)(go.Z,{className:"text-[10px]"})]}):(0,e.jsxs)(e.Fragment,{children:["\u5C55\u5F00 ",(0,e.jsx)(ao.Z,{className:"text-[10px]"})]})})]}),(0,e.jsx)("div",{className:"hidden sm:block w-[1px] h-6 bg-[#e8e8e8]"}),(0,e.jsx)("div",{className:"".concat(m.includes(g)?"flex":"hidden sm:flex"," flex-wrap gap-1.5 flex-1 w-full"),children:(0,e.jsx)(ro.Z.Group,{name:["toneListGroup",g],className:"touch-button-group",options:c.map(function(E){return{label:E,value:"".concat(E).concat(g)}})})})]},g)})})})}})},So=po,bo=f(90228),ee=f.n(bo),To=f(87999),Ge=f.n(To),X=f(55248),jo={"bass-electric":{"A#1":"As1.ogg","A#2":"As2.ogg","A#3":"As3.ogg","A#4":"As4.ogg","C#1":"Cs1.ogg","C#2":"Cs2.ogg","C#3":"Cs3.ogg","C#4":"Cs4.ogg",E1:"E1.ogg",E2:"E2.ogg",E3:"E3.ogg",E4:"E4.ogg",G1:"G1.ogg",G2:"G2.ogg",G3:"G3.ogg",G4:"G4.ogg"},bassoon:{A4:"A4.ogg",C3:"C3.ogg",C4:"C4.ogg",C5:"C5.ogg",E4:"E4.ogg",G2:"G2.ogg",G3:"G3.ogg",G4:"G4.ogg",A2:"A2.ogg",A3:"A3.ogg"},cello:{E3:"E3.ogg",E4:"E4.ogg",F2:"F2.ogg",F3:"F3.ogg",F4:"F4.ogg","F#3":"Fs3.ogg","F#4":"Fs4.ogg",G2:"G2.ogg",G3:"G3.ogg",G4:"G4.ogg","G#2":"Gs2.ogg","G#3":"Gs3.ogg","G#4":"Gs4.ogg",A2:"A2.ogg",A3:"A3.ogg",A4:"A4.ogg","A#2":"As2.ogg","A#3":"As3.ogg",B2:"B2.ogg",B3:"B3.ogg",B4:"B4.ogg",C2:"C2.ogg",C3:"C3.ogg",C4:"C4.ogg",C5:"C5.ogg","C#3":"Cs3.ogg","C#4":"Cs4.ogg",D2:"D2.ogg",D3:"D3.ogg",D4:"D4.ogg","D#2":"Ds2.ogg","D#3":"Ds3.ogg","D#4":"Ds4.ogg",E2:"E2.ogg"},clarinet:{D4:"D4.ogg",D5:"D5.ogg",D6:"D6.ogg",F3:"F3.ogg",F4:"F4.ogg",F5:"F5.ogg","F#6":"Fs6.ogg","A#3":"As3.ogg","A#4":"As4.ogg","A#5":"As5.ogg",D3:"D3.ogg"},contrabass:{C2:"C2.ogg","C#3":"Cs3.ogg",D2:"D2.ogg",E2:"E2.ogg",E3:"E3.ogg","F#1":"Fs1.ogg","F#2":"Fs2.ogg",G1:"G1.ogg","G#2":"Gs2.ogg","G#3":"Gs3.ogg",A2:"A2.ogg","A#1":"As1.ogg",B3:"B3.ogg"},flute:{A6:"A6.ogg",C4:"C4.ogg",C5:"C5.ogg",C6:"C6.ogg",C7:"C7.ogg",E4:"E4.ogg",E5:"E5.ogg",E6:"E6.ogg",A4:"A4.ogg",A5:"A5.ogg"},"french-horn":{D3:"D3.ogg",D5:"D5.ogg","D#2":"Ds2.ogg",F3:"F3.ogg",F5:"F5.ogg",G2:"G2.ogg",A1:"A1.ogg",A3:"A3.ogg",C2:"C2.ogg",C4:"C4.ogg"},"guitar-acoustic":{F4:"F4.ogg","F#2":"Fs2.ogg","F#3":"Fs3.ogg","F#4":"Fs4.ogg",G2:"G2.ogg",G3:"G3.ogg",G4:"G4.ogg","G#2":"Gs2.ogg","G#3":"Gs3.ogg","G#4":"Gs4.ogg",A2:"A2.ogg",A3:"A3.ogg",A4:"A4.ogg","A#2":"As2.ogg","A#3":"As3.ogg","A#4":"As4.ogg",B2:"B2.ogg",B3:"B3.ogg",B4:"B4.ogg",C3:"C3.ogg",C4:"C4.ogg",C5:"C5.ogg","C#3":"Cs3.ogg","C#4":"Cs4.ogg","C#5":"Cs5.ogg",D2:"D2.ogg",D3:"D3.ogg",D4:"D4.ogg",D5:"D5.ogg","D#2":"Ds2.ogg","D#3":"Ds3.ogg","D#4":"Ds3.ogg",E2:"E2.ogg",E3:"E3.ogg",E4:"E4.ogg",F2:"F2.ogg",F3:"F3.ogg"},"guitar-electric":{"D#3":"Ds3.ogg","D#4":"Ds4.ogg","D#5":"Ds5.ogg",E2:"E2.ogg","F#2":"Fs2.ogg","F#3":"Fs3.ogg","F#4":"Fs4.ogg","F#5":"Fs5.ogg",A2:"A2.ogg",A3:"A3.ogg",A4:"A4.ogg",A5:"A5.ogg",C3:"C3.ogg",C4:"C4.ogg",C5:"C5.ogg",C6:"C6.ogg","C#2":"Cs2.ogg"},"guitar-nylon":{"F#2":"Fs2.ogg","F#3":"Fs3.ogg","F#4":"Fs4.ogg","F#5":"Fs5.ogg",G3:"G3.ogg",G5:"G3.ogg","G#2":"Gs2.ogg","G#4":"Gs4.ogg","G#5":"Gs5.ogg",A2:"A2.ogg",A3:"A3.ogg",A4:"A4.ogg",A5:"A5.ogg","A#5":"As5.ogg",B1:"B1.ogg",B2:"B2.ogg",B3:"B3.ogg",B4:"B4.ogg","C#3":"Cs3.ogg","C#4":"Cs4.ogg","C#5":"Cs5.ogg",D2:"D2.ogg",D3:"D3.ogg",D5:"D5.ogg","D#4":"Ds4.ogg",E2:"E2.ogg",E3:"E3.ogg",E4:"E4.ogg",E5:"E5.ogg"},harmonium:{C2:"C2.ogg",C3:"C3.ogg",C4:"C4.ogg",C5:"C5.ogg","C#2":"Cs2.ogg","C#3":"Cs3.ogg","C#4":"Cs4.ogg","C#5":"Cs5.ogg",D2:"D2.ogg",D3:"D3.ogg",D4:"D4.ogg",D5:"D5.ogg","D#2":"Ds2.ogg","D#3":"Ds3.ogg","D#4":"Ds4.ogg",E2:"E2.ogg",E3:"E3.ogg",E4:"E4.ogg",F2:"F2.ogg",F3:"F3.ogg",F4:"F4.ogg","F#2":"Fs2.ogg","F#3":"Fs3.ogg",G2:"G2.ogg",G3:"G3.ogg",G4:"G4.ogg","G#2":"Gs2.ogg","G#3":"Gs3.ogg","G#4":"Gs4.ogg",A2:"A2.ogg",A3:"A3.ogg",A4:"A4.ogg","A#2":"As2.ogg","A#3":"As3.ogg","A#4":"As4.ogg"},harp:{C5:"C5.ogg",D2:"D2.ogg",D4:"D4.ogg",D6:"D6.ogg",D7:"D7.ogg",E1:"E1.ogg",E3:"E3.ogg",E5:"E5.ogg",F2:"F2.ogg",F4:"F4.ogg",F6:"F6.ogg",F7:"F7.ogg",G1:"G1.ogg",G3:"G3.ogg",G5:"G5.ogg",A2:"A2.ogg",A4:"A4.ogg",A6:"A6.ogg",B1:"B1.ogg",B3:"B3.ogg",B5:"B5.ogg",B6:"B6.ogg",C3:"C3.ogg"},organ:{C3:"C3.ogg",C4:"C4.ogg",C5:"C5.ogg",C6:"C6.ogg","D#1":"Ds1.ogg","D#2":"Ds2.ogg","D#3":"Ds3.ogg","D#4":"Ds4.ogg","D#5":"Ds5.ogg","F#1":"Fs1.ogg","F#2":"Fs2.ogg","F#3":"Fs3.ogg","F#4":"Fs4.ogg","F#5":"Fs5.ogg",A1:"A1.ogg",A2:"A2.ogg",A3:"A3.ogg",A4:"A4.ogg",A5:"A5.ogg",C1:"C1.ogg",C2:"C2.ogg"},piano:{A7:"A7.ogg",A1:"A1.ogg",A2:"A2.ogg",A3:"A3.ogg",A4:"A4.ogg",A5:"A5.ogg",A6:"A6.ogg","A#7":"As7.ogg","A#1":"As1.ogg","A#2":"As2.ogg","A#3":"As3.ogg","A#4":"As4.ogg","A#5":"As5.ogg","A#6":"As6.ogg",B7:"B7.ogg",B1:"B1.ogg",B2:"B2.ogg",B3:"B3.ogg",B4:"B4.ogg",B5:"B5.ogg",B6:"B6.ogg",C1:"C1.ogg",C2:"C2.ogg",C3:"C3.ogg",C4:"C4.ogg",C5:"C5.ogg",C6:"C6.ogg",C7:"C7.ogg","C#7":"Cs7.ogg","C#1":"Cs1.ogg","C#2":"Cs2.ogg","C#3":"Cs3.ogg","C#4":"Cs4.ogg","C#5":"Cs5.ogg","C#6":"Cs6.ogg",D7:"D7.ogg",D1:"D1.ogg",D2:"D2.ogg",D3:"D3.ogg",D4:"D4.ogg",D5:"D5.ogg",D6:"D6.ogg","D#7":"Ds7.ogg","D#1":"Ds1.ogg","D#2":"Ds2.ogg","D#3":"Ds3.ogg","D#4":"Ds4.ogg","D#5":"Ds5.ogg","D#6":"Ds6.ogg",E7:"E7.ogg",E1:"E1.ogg",E2:"E2.ogg",E3:"E3.ogg",E4:"E4.ogg",E5:"E5.ogg",E6:"E6.ogg",F7:"F7.ogg",F1:"F1.ogg",F2:"F2.ogg",F3:"F3.ogg",F4:"F4.ogg",F5:"F5.ogg",F6:"F6.ogg","F#7":"Fs7.ogg","F#1":"Fs1.ogg","F#2":"Fs2.ogg","F#3":"Fs3.ogg","F#4":"Fs4.ogg","F#5":"Fs5.ogg","F#6":"Fs6.ogg",G7:"G7.ogg",G1:"G1.ogg",G2:"G2.ogg",G3:"G3.ogg",G4:"G4.ogg",G5:"G5.ogg",G6:"G6.ogg","G#7":"Gs7.ogg","G#1":"Gs1.ogg","G#2":"Gs2.ogg","G#3":"Gs3.ogg","G#4":"Gs4.ogg","G#5":"Gs5.ogg","G#6":"Gs6.ogg"},saxophone:{"D#5":"Ds5.ogg",E3:"E3.ogg",E4:"E4.ogg",E5:"E5.ogg",F3:"F3.ogg",F4:"F4.ogg",F5:"F5.ogg","F#3":"Fs3.ogg","F#4":"Fs4.ogg","F#5":"Fs5.ogg",G3:"G3.ogg",G4:"G4.ogg",G5:"G5.ogg","G#3":"Gs3.ogg","G#4":"Gs4.ogg","G#5":"Gs5.ogg",A4:"A4.ogg",A5:"A5.ogg","A#3":"As3.ogg","A#4":"As4.ogg",B3:"B3.ogg",B4:"B4.ogg",C4:"C4.ogg",C5:"C5.ogg","C#3":"Cs3.ogg","C#4":"Cs4.ogg","C#5":"Cs5.ogg",D3:"D3.ogg",D4:"D4.ogg",D5:"D5.ogg","D#3":"Ds3.ogg","D#4":"Ds4.ogg"},trombone:{"A#3":"As3.ogg",C3:"C3.ogg",C4:"C4.ogg","C#2":"Cs2.ogg","C#4":"Cs4.ogg",D3:"D3.ogg",D4:"D4.ogg","D#2":"Ds2.ogg","D#3":"Ds3.ogg","D#4":"Ds4.ogg",F2:"F2.ogg",F3:"F3.ogg",F4:"F4.ogg","G#2":"Gs2.ogg","G#3":"Gs3.ogg","A#1":"As1.ogg","A#2":"As2.ogg"},trumpet:{C6:"C6.ogg",D5:"D5.ogg","D#4":"Ds4.ogg",F3:"F3.ogg",F4:"F4.ogg",F5:"F5.ogg",G4:"G4.ogg",A3:"A3.ogg",A5:"A5.ogg","A#4":"As4.ogg",C4:"C4.ogg"},tuba:{"A#2":"As2.ogg","A#3":"As3.ogg",D3:"D3.ogg",D4:"D4.ogg","D#2":"Ds2.ogg",F1:"F1.ogg",F2:"F2.ogg",F3:"F3.ogg","A#1":"As1.ogg"},violin:{A3:"A3.ogg",A4:"A4.ogg",A5:"A5.ogg",A6:"A6.ogg",C4:"C4.ogg",C5:"C5.ogg",C6:"C6.ogg",C7:"C7.ogg",E4:"E4.ogg",E5:"E5.ogg",E6:"E6.ogg",G4:"G4.ogg",G5:"G5.ogg",G6:"G6.ogg"},xylophone:{C8:"C8.ogg",G4:"G4.ogg",G5:"G5.ogg",G6:"G6.ogg",G7:"G7.ogg",C5:"C5.ogg",C6:"C6.ogg",C7:"C7.ogg"}},ie={},he={},ce=new Set,fe=function(o,l){he[o]=l,ce.forEach(function(t){return t(o,l)})},xe=function(o){return he[o]||"idle"},Bo=function(o){return ce.add(o),function(){ce.delete(o)}},me=function(o){var l=jo[o];if(l==null)throw new Error("no such instruments: ".concat(o));var t=ie[o];if(t!=null)return t;fe(o,"loading");var m=new Promise(function(A,F){var G=new X.Z4({urls:l,release:1,baseUrl:"samples/".concat(o,"/"),onload:function(){fe(o,"loaded"),A(G)},onerror:function(b){fe(o,"error"),F(b)}}).toDestination()});return ie[o]=m,m.catch(function(){delete ie[o]}),m},pe=function(o){var l=(0,x.useState)(function(){return xe(o)}),t=N()(l,2),m=t[0],A=t[1];return(0,x.useEffect)(function(){A(xe(o));var F=Bo(function(G,S){G===o&&A(S)});return function(){F()}},[o]),m},No=f(53419),yo=f(99430),Se=f(66931),Oo=f(65257),Lo=f(98649),Po={trainPlayInfo:"trainPlayInfo___N471F"},Ro=Se.Z.confirm,y=null,Zo=function(o){var l=(0,x.useState)(!0),t=N()(l,2),m=t[0],A=t[1],F=(0,x.useState)(!1),G=N()(F,2),S=G[0],b=G[1],O=(0,x.useState)("..."),h=N()(O,2),u=h[0],s=h[1],a=Oo.ZP.useNotification(),g=N()(a,2),c=g[1],r=x.useRef(0),n=x.useRef(0),C=function(p){var L=new SpeechSynthesisUtterance(p),R=o.ttsRate||1;L.rate=1/R,window.speechSynthesis.speak(L)},E=function(){var D=Ge()(ee()().mark(function p(L,R){var K;return ee()().wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return y!==null&&(K=lo(L),K.length>0?y.triggerAttackRelease(K,R/1e3):y.triggerAttackRelease(L,R/1e3)),w.abrupt("return",new Promise(function(d){setTimeout(d,R)}));case 2:case"end":return w.stop()}},p)}));return function(L,R){return D.apply(this,arguments)}}(),I=x.useRef(o);I.current=o;var je=x.useMemo(function(){var D=(o.toneDuration||0)+(o.toneWait||0)+(o.ttsWait||0)+(o.referenceNoteEnabled?(o.toneDuration||0)+(o.toneWait||0):0),p=0;return o.ttsEnable&&(p+=1e3,o.ttsSolfege&&(p+=(o.ttsSolfegeWait||0)+1e3),o.ttsNotation&&(p+=(o.ttsNotationWait||0)+1e3)),Math.max(D+p,500)},[o.toneDuration,o.toneWait,o.ttsWait,o.referenceNoteEnabled,o.ttsEnable,o.ttsSolfege,o.ttsSolfegeWait,o.ttsNotation,o.ttsNotationWait]);(0,x.useEffect)(function(){if(m||!o.open){y!==null&&y.triggerRelease(X.zO());return}var D=!1,p=null,L=null,R=function(){var Ne=Ge()(ee()().mark(function w(){var d,Q,oe,V,ye,te,Oe,ne;return ee()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(!D){i.next=2;break}return i.abrupt("return");case 2:if(d=I.current,Q=d.toneList.length,Q!==0){i.next=6;break}return i.abrupt("return");case 6:if(oe=0,d.random?oe=Math.floor(Math.random()*Q):oe=r.current,V=d.toneList[oe],s(V),d.random){i.next=20;break}if(r.current++,!(r.current>=Q)){i.next=18;break}if(r.current=0,n.current++,!(Number(d.loopCount)>0&&n.current>=Number(d.loopCount))){i.next=18;break}return A(!0),i.abrupt("return");case 18:i.next=27;break;case 20:if(r.current++,!(r.current>=Q)){i.next=27;break}if(r.current=0,n.current++,!(Number(d.loopCount)>0&&n.current>=Number(d.loopCount))){i.next=27;break}return A(!0),i.abrupt("return");case 27:if(!(d.referenceNoteEnabled&&d.referenceNote)){i.next=36;break}if(!D){i.next=30;break}return i.abrupt("return");case 30:return i.next=32,E(d.referenceNote,d.toneDuration);case 32:if(!D){i.next=34;break}return i.abrupt("return");case 34:return i.next=36,new Promise(function(B){L=setTimeout(B,d.toneWait)});case 36:if(!D){i.next=38;break}return i.abrupt("return");case 38:return i.next=40,E(V,d.toneDuration);case 40:if(!D){i.next=42;break}return i.abrupt("return");case 42:if(!D){i.next=44;break}return i.abrupt("return");case 44:if(!d.ttsEnable){i.next=64;break}return i.next=47,new Promise(function(B){p=setTimeout(B,d.toneWait||200)});case 47:if(!D){i.next=49;break}return i.abrupt("return");case 49:if(C(V),!d.ttsSolfege){i.next=57;break}return i.next=53,new Promise(function(B){p=setTimeout(B,d.ttsSolfegeWait||500)});case 53:if(!D){i.next=55;break}return i.abrupt("return");case 55:ye=ve(V),te=ye.solfege,te&&(C(te),s(function(B){return"".concat(B," ").concat(te)}));case 57:if(!d.ttsNotation){i.next=64;break}return i.next=60,new Promise(function(B){p=setTimeout(B,d.ttsNotationWait||500)});case 60:if(!D){i.next=62;break}return i.abrupt("return");case 62:Oe=ve(V),ne=Oe.number,ne&&(C(ne),s(function(B){return"".concat(B," ").concat(ne)}));case 64:case"end":return i.stop()}},w)}));return function(){return Ne.apply(this,arguments)}}();R();var K=setInterval(R,je);return function(){D=!0,clearInterval(K),p&&clearTimeout(p),L&&clearTimeout(L),y!==null&&y.triggerRelease(X.zO())}},[m,o.open,je]),(0,x.useEffect)(function(){o.open&&(r.current=0,n.current=0,s("..."),b(!1),y||(y=new X.v2(X.WV).toDestination()),me(o.instrumentName).then(function(D){y=D}).catch(function(D){console.error("\u52A0\u8F7D\u97F3\u8272\u9519\u8BEF\uFF0C\u964D\u7EA7\u4F7F\u7528Synth",D)}),A(!1))},[o.open]);var Ho=function(){A(!m)},zo=function(){A(!0),Ro({title:"\u786E\u8BA4\u505C\u6B62",icon:(0,e.jsx)(No.Z,{}),content:"\u786E\u8BA4\u505C\u6B62\u8BAD\u7EC3\u5417\uFF1F",okText:"\u786E\u8BA4\u5173\u95ED",cancelText:"\u6211\u70B9\u9519\u4E86",onOk:function(){o.onCancel()},onCancel:function(){A(!1)}})},Be=pe(o.instrumentName),$o=function(){return Be==="loading"?(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("div",{children:"\u5F53\u524D\u7684\u97F3\u662F"}),(0,e.jsx)("div",{className:"text-yellow-600 text-sm",children:"\u540E\u53F0\u6B63\u5728\u52A0\u8F7D\u97F3\u8272, \u6682\u65F6\u4F7F\u7528MIDI\u97F3..."})]}):"\u5F53\u524D\u7684\u97F3\u662F"};return(0,e.jsxs)(e.Fragment,{children:[c,(0,e.jsx)(Se.Z,{open:o.open,destroyOnHidden:!0,width:"80%",height:"80%",maskClosable:!1,okText:m?"\u6062\u590D\u8BAD\u7EC3":"\u6682\u505C\u8BAD\u7EC3",onOk:Ho,cancelText:"\u505C\u6B62\u8BAD\u7EC3",onCancel:zo,loading:S,title:S?"\u52A0\u8F7D\u97F3\u8272\u4E2D":"\u8BAD\u7EC3",children:(0,e.jsx)(Lo.ZP,{className:Po.trainPlayInfo,title:$o(),subTitle:(0,e.jsx)("div",{className:"text-2xl sm:text-4xl flex items-center justify-center gap-2",children:u}),icon:ue[u]?(0,e.jsx)("div",{className:"flex justify-center",children:(0,e.jsx)(Ee,{name:u,fingering:ue[u],width:100,height:140})}):(0,e.jsx)(yo.Z,{})})})]})},Io=Zo,Mo=f(82796),wo=f(90834),Uo=f(80743),be=f(76622),Wo=function(o){var l=o.name,t=pe(l);return t==="loading"?(0,e.jsx)(be.Z,{icon:(0,e.jsx)(Uo.Z,{}),color:"processing",children:"\u52A0\u8F7D\u97F3\u8272\u4E2D..."}):t==="error"?(0,e.jsxs)(be.Z,{color:"error",children:[l," \u52A0\u8F7D\u5931\u8D25"]}):null},Te="tone-train-settings",ko=function(){var o=(0,x.useState)(W),l=N()(o,2),t=l[0],m=l[1],A=(0,x.useState)(!1),F=N()(A,2),G=F[0],S=F[1],b=j.A.useForm(),O=N()(b,1),h=O[0],u=j.A.useWatch("instrumentName",h)||Ce;(0,x.useEffect)(function(){me(u).catch(console.error)},[u]);var s=function(n){return Object.values(n||{}).flat().filter(Boolean)},a=function(n){var C={};return U.forEach(function(E){C[E]=n.filter(function(I){return I.endsWith(String(E))})}),C};(0,x.useEffect)(function(){var r=localStorage.getItem(Te);if(r)try{var n=JSON.parse(r);n.toneList&&!n.toneListGroup&&(n.toneListGroup=a(n.toneList));var C=n.loopCountType||String(n.loopCount||0),E=n.loopCountCustom||n.loopCount||10;h.setFieldsValue(T()(T()({},n),{},{loopCountType:C,loopCountCustom:C==="custom"?E:10})),n.instrumentName&&me(n.instrumentName).catch(console.error),m(T()(T()(T()({},W),n),{},{loopCount:C==="custom"?E:parseInt(C,10),toneList:s(n.toneListGroup)}))}catch(I){console.error("Failed to load settings",I)}},[h]);var g=function(n,C){localStorage.setItem(Te,JSON.stringify(C))},c=function(n){var C=s(n.toneListGroup),E=n.loopCountType==="custom"?n.loopCountCustom:parseInt(n.loopCountType,10),I=T()(T()(T()({},W),n),{},{toneList:C,loopCount:isNaN(E)?0:E});m(I),S(!0)};return(0,e.jsxs)(Mo._z,{ghost:!0,className:"px-1 sm:px-4",children:[(0,e.jsxs)(j.A,{form:h,size:"large",initialValues:T()(T()({},W),{},{loopCountType:String(W.loopCount),loopCountCustom:10,toneListGroup:a(W.toneList)}),onValuesChange:g,onFinish:c,layout:"horizontal",submitter:{searchConfig:{resetText:"\u91CD\u7F6E",submitText:"\u5F00\u59CB\u8BAD\u7EC3"},render:function(n,C){return(0,e.jsx)(wo.S,{extra:(0,e.jsx)(Wo,{name:u}),children:C})}},children:[(0,e.jsx)(So,{}),(0,e.jsx)(eo,{}),(0,e.jsx)(to,{})]}),(0,e.jsx)(Io,T()({open:G,onCancel:function(){return S(!1)}},t))]})},Vo=ko}}]);
