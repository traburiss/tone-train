"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[471],{67849:function(st,L,i){i.d(L,{An:function(){return F},CV:function(){return at},Dz:function(){return D},F6:function(){return $},Gg:function(){return W},L3:function(){return T},LB:function(){return s},N7:function(){return J},OG:function(){return c},Qx:function(){return r},Ry:function(){return H},W4:function(){return R},Yi:function(){return A},Z:function(){return Q},Zf:function(){return o},aj:function(){return Z},cS:function(){return et},f1:function(){return Y},n2:function(){return z},qL:function(){return u},qx:function(){return V},sO:function(){return nt},sw:function(){return G}});var X="Umi Max",R="GuitarChords",J=[{label:"option.tone-type.guitar-chords",value:"GuitarChords"},{label:"option.tone-type.12-tone",value:"12-Tone"},{label:"option.tone-type.8-tone",value:"8-Tone"}],c="guitar-acoustic",u=[{label:"option.instrument.guitar-acoustic",value:"guitar-acoustic"},{label:"option.instrument.guitar-electric",value:"guitar-electric"},{label:"option.instrument.piano",value:"piano"}],Z=["C","D","E","F","G","A","B"],F=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],D=[2,3,4,5,6],U=D.flatMap(function(C){return Z.map(function(g){return"".concat(g).concat(C)})}),_=D.flatMap(function(C){return F.map(function(g){return"".concat(g).concat(C)})}),G=["C","D","E","F","G","A","B","Em","Am","Dm","Bm","F#m","C#m","Gm","C5","D5","E5","F5","G5","A5","B5","G7","C7","D7","E7","A7","B7","Cmaj7","Gmaj7","Fmaj7","Amaj7","Am7","Em7","Dm7","Bm7","F#m7","Dsus4","Asus4","Esus4","D/F#","C/G","G/B"],W=["C","D","G","A","Em","Am","Dm"],N=["C","D","G","A","Em","Am","Dm"],V=[{label:"option.loop-count.infinite",value:"0"},{label:"option.loop-count.n-times",value:"20"},{label:"option.loop-count.n-times",value:"50"},{label:"option.loop-count.n-times",value:"200"},{label:"option.loop-count.custom",value:"custom"}],O=!0,k=!1,h=1500,n=!1,l=1500,r=100,o=10*1e3,s=100,T=function(g){return function(p){var e=Number(p);if(isNaN(e))return"".concat(p);var m=g.formatMessage({id:"formatter.millisecond"});if(e<1e3)return"".concat(e).concat(m);var x=Math.floor(e/1e3),S=e%1e3,I=g.formatMessage({id:"formatter.second"});if(x<60)return S===0?"".concat(x).concat(I):"".concat(x).concat(I).concat(S).concat(m);var P=Math.floor(x/60),j=x%60,y=g.formatMessage({id:"formatter.minute"});return j===0&&S===0?"".concat(P).concat(y).concat(S).concat(m):"".concat(P).concat(y).concat(j).concat(I).concat(S).concat(m)}},b=function(g){var p=Number(g);if(isNaN(p))return"".concat(g);var e=Math.floor(p/1e3),m="";if(e<60)m="".concat(e,"s");else{var x=Math.floor(e/60),S=e%60;m="".concat(x,"m"),S>0&&(m+="".concat(S,"s"))}return"".concat(p," ms (").concat(m,")")},K=1e3,w=1500,q=2e3,t=1,tt=!0,et=[{label:"C2",value:"C2"},{label:"C3",value:"C3"},{label:"C4",value:"C4"},{label:"C5",value:"C5"},{label:"C6",value:"C6"}],nt={toneType:R,instrumentName:c,toneList:N,toneDuration:K,toneWait:w,ttsEnable:O,ttsWait:q,ttsRate:t,ttsSolfege:k,ttsSolfegeWait:h,ttsNotation:n,ttsNotationWait:l,random:tt,loopCount:0,referenceNoteEnabled:!1,referenceNote:"C4"},Y="mta:cfg:",at="mta:sta:",$="tones:training",H="tones:identification",Q="vocal:ma-exercise",z="vocal:resonance",A=[{name:"menu.instrument.tone-training",key:$},{name:"menu.instrument.tone-identification",key:H},{name:"vocal.ma-exercise.title",key:Q},{name:"vocal.resonance.title",key:z}]},90521:function(st,L,i){i.r(L),i.d(L,{default:function(){return Q}});var X=i(48305),R=i.n(X),J=i(67849),c=i(6946),u=i(18022),Z=i(80788),F=i(9015),D=i(76350),U=i(30244),_=i(78732),G=i(2866),W=i(5318),N=i(440),V=i(82238),O=i(30933),k=i(1073),h=i(52402),n=i(70439),l=i(17121),r=i(33717),o=i(91521),s=i(75271),T=i(90228),b=i.n(T),K=i(87999),w=i.n(K),q=i(8481),t=i(52676),tt=function(A){var C=A.value,g=A.onChange,p=A.height,e=p===void 0?"300px":p,m=A.language,x=m===void 0?"json":m,S=A.readonly,I=S===void 0?!1:S,P=function(y){g&&g(y)};return(0,t.jsx)("div",{style:{border:"1px solid #d9d9d9",borderRadius:"4px",overflow:"auto",resize:"vertical",height:e},children:(0,t.jsx)(q.ZP,{height:"100%",language:x,value:C,onChange:P,options:{minimap:{enabled:!1},fontSize:13,scrollBeyondLastLine:!1,automaticLayout:!0,readOnly:I,tabSize:2,formatOnPaste:!0,formatOnType:!0}})})},et=tt,nt=i(69334),Y=i(40624),at=function(A){var C=A.storageKey,g=A.name,p=A.initialValue,e=A.onSaved,m=Y.A.useForm(),x=R()(m,1),S=x[0];(0,s.useEffect)(function(){S.setFieldsValue({json:JSON.stringify(p,null,2)})},[p]);var I=function(){var P=w()(b()().mark(function j(y){return b()().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:k.Z.confirm({title:"\u786E\u8BA4\u4FDD\u5B58\u914D\u7F6E\u5417\uFF1F",content:"\u786E\u8BA4\u4FDD\u5B58 ".concat(g," (key: ").concat(C,") \u7684\u914D\u7F6E\u5417\uFF1F"),okText:"\u786E\u8BA4",okType:"primary",onOk:function(){try{var a=JSON.parse(y.json);(0,c.pd)(C,a,g),O.ZP.success("".concat(g," \u4FDD\u5B58\u6210\u529F")),e()}catch(f){O.ZP.error("\u4FDD\u5B58\u5931\u8D25\uFF1AJSON \u8BED\u6CD5\u9519\u8BEF")}}});case 1:case"end":return B.stop()}},j)}));return function(y){return P.apply(this,arguments)}}();return(0,t.jsx)(N.Z,{title:(0,t.jsx)("span",{className:"font-bold text-primary",children:g}),subTitle:(0,t.jsxs)("code",{className:"text-xs text-secondary opacity-60 ml-2",children:["Key: ",C]}),className:"mb-4 shadow-sm",collapsible:!0,defaultCollapsed:!0,children:(0,t.jsx)(Y.A,{form:S,onFinish:I,submitter:{render:function(j){return(0,t.jsx)(n.ZP,{type:"primary",icon:(0,t.jsx)(nt.Z,{}),onClick:function(){return j.submit()},children:"\u4FDD\u5B58\u672C\u9879\u4FEE\u6539"})}},children:(0,t.jsx)(Y.A.Item,{name:"json",label:"\u914D\u7F6E\u503C",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u914D\u7F6E\u5185\u5BB9"}],children:(0,t.jsx)(et,{height:"300px"})})})})},$=at,H=function(){var A=(0,s.useState)({}),C=R()(A,2),g=C[0],p=C[1],e=(0,V.useIntl)(),m=function(){p((0,c.GR)())};(0,s.useEffect)(function(){m()},[]);var x=function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,f=a===null?{settings:(0,c.GR)(),stats:(0,c.Jm)()}:{settings:(0,c.Tp)(a,{}),stats:(0,c.fy)(a,{})},M=new Blob([JSON.stringify(f,null,2)],{type:"application/json"}),E=URL.createObjectURL(M),d=document.createElement("a");d.href=E,d.download="mta-all-data-".concat(new Date().toISOString().split("T")[0],".json"),d.click(),URL.revokeObjectURL(E),O.ZP.success(a===null?e.formatMessage({id:"settings.export.all.success"}):e.formatMessage({id:"settings.export.config.success"},{key:a}))},S=function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,f=a===null?(0,c.GR)():(0,c.Tp)(a,{}),M=new Blob([JSON.stringify(f,null,2)],{type:"application/json"}),E=URL.createObjectURL(M),d=document.createElement("a");d.href=E,d.download="mta-config-only-".concat(new Date().toISOString().split("T")[0],".json"),d.click(),URL.revokeObjectURL(E),O.ZP.success(a===null?e.formatMessage({id:"settings.export.config.success"},{key:"all"}):e.formatMessage({id:"settings.export.config.success"},{key:a}))},I=function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,f=a===null?(0,c.Jm)():(0,c.fy)(a,{}),M=new Blob([JSON.stringify(f,null,2)],{type:"application/json"}),E=URL.createObjectURL(M),d=document.createElement("a");d.href=E,d.download="mta-stats-only-".concat(new Date().toISOString().split("T")[0],".json"),d.click(),URL.revokeObjectURL(E),O.ZP.success(a===null?e.formatMessage({id:"settings.export.stats.success"}):e.formatMessage({id:"settings.export.stats-item.success"},{key:a}))},P=function(a){var f=new FileReader;return f.onload=function(M){try{var E,d=JSON.parse((E=M.target)===null||E===void 0?void 0:E.result);(0,c.QM)(d),O.ZP.success(e.formatMessage({id:"settings.import.success"})),m()}catch(ot){O.ZP.error(e.formatMessage({id:"settings.import.error"}))}},f.readAsText(a),!1},j=function(a,f,M){k.Z.confirm({title:a,content:f,okText:e.formatMessage({id:"settings.clear.confirm-ok"}),okType:"danger",onOk:M})},y=function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;j(a===null?e.formatMessage({id:"settings.clear.all-confirm-title"}):e.formatMessage({id:"settings.clear.item-confirm-title"},{key:a}),a===null?e.formatMessage({id:"settings.clear.all-confirm-content"}):e.formatMessage({id:"settings.clear.item-confirm-content"},{key:a}),function(){a===null?((0,c.qt)(),(0,c.oB)()):((0,c.bA)(a),(0,c.lv)(a)),O.ZP.success(a===null?e.formatMessage({id:"settings.clear.all.success"}):e.formatMessage({id:"settings.clear.item.success"},{key:a})),m()})},rt=function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;j(a===null?e.formatMessage({id:"settings.clear.all-config-confirm-title"}):e.formatMessage({id:"settings.clear.item-config-confirm-title"},{key:a}),a===null?e.formatMessage({id:"settings.clear.all-config-confirm-content"}):e.formatMessage({id:"settings.clear.item-config-confirm-content"},{key:a}),function(){a===null?(0,c.qt)():(0,c.bA)(a),O.ZP.success(a===null?e.formatMessage({id:"settings.clear.config.success"}):e.formatMessage({id:"settings.clear.config-item.success"},{key:a})),m()})},B=function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;j(a===null?e.formatMessage({id:"settings.clear.all-stats-confirm-title"}):e.formatMessage({id:"settings.clear.item-stats-confirm-title"},{key:a}),a===null?e.formatMessage({id:"settings.clear.all-stats-confirm-content"}):e.formatMessage({id:"settings.clear.item-stats-confirm-content"},{key:a}),function(){a===null?(0,c.oB)():(0,c.lv)(a),O.ZP.success(a===null?e.formatMessage({id:"settings.clear.stats.success"}):e.formatMessage({id:"settings.clear.stats-item.success"},{key:a})),m()})};return(0,t.jsxs)(W._z,{title:e.formatMessage({id:"settings.title"}),children:[(0,t.jsxs)(N.Z,{title:e.formatMessage({id:"settings.global-actions"}),gutter:[16,16],wrap:!0,ghost:!0,children:[(0,t.jsx)(N.Z,{title:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(u.Z,{})," ",e.formatMessage({id:"settings.export.title"})]}),colSpan:{xs:24,md:8},bordered:!0,hoverable:!0,children:(0,t.jsxs)(h.Z,{size:"middle",align:"start",wrap:!0,children:[(0,t.jsx)(n.ZP,{icon:(0,t.jsx)(Z.Z,{}),onClick:function(){return x(null)},children:e.formatMessage({id:"settings.export.all"})}),(0,t.jsx)(n.ZP,{icon:(0,t.jsx)(F.Z,{}),onClick:function(){return S(null)},children:e.formatMessage({id:"settings.export.config"})}),(0,t.jsx)(n.ZP,{icon:(0,t.jsx)(D.Z,{}),onClick:function(){return I(null)},children:e.formatMessage({id:"settings.export.stats"})})]})}),(0,t.jsx)(N.Z,{title:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(U.Z,{})," ",e.formatMessage({id:"settings.import.title"})]}),colSpan:{xs:24,md:8},bordered:!0,hoverable:!0,children:(0,t.jsx)(l.Z,{beforeUpload:P,showUploadList:!1,accept:".json",children:(0,t.jsx)(n.ZP,{icon:(0,t.jsx)(U.Z,{}),type:"primary",children:e.formatMessage({id:"settings.import.button"})})})}),(0,t.jsx)(N.Z,{title:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(_.Z,{})," ",e.formatMessage({id:"settings.clear.title"})]}),colSpan:{xs:24,md:8},bordered:!0,hoverable:!0,children:(0,t.jsxs)(h.Z,{size:"middle",align:"start",wrap:!0,children:[(0,t.jsx)(n.ZP,{icon:(0,t.jsx)(G.Z,{}),danger:!0,onClick:function(){return y(null)},children:e.formatMessage({id:"settings.clear.all"})}),(0,t.jsx)(n.ZP,{icon:(0,t.jsx)(_.Z,{}),danger:!0,onClick:function(){return rt(null)},children:e.formatMessage({id:"settings.clear.config"})}),(0,t.jsx)(n.ZP,{icon:(0,t.jsx)(D.Z,{}),danger:!0,onClick:function(){return B(null)},children:e.formatMessage({id:"settings.clear.stats"})})]})})]}),(0,t.jsx)(N.Z,{title:e.formatMessage({id:"settings.item-actions"}),gutter:[16,16],wrap:!0,ghost:!0,children:J.Yi.map(function(v){var a,f=v.key,M=v.name,E=g[f];return(0,t.jsx)(N.Z,{title:e.formatMessage({id:M}),colSpan:{xs:24,md:8},layout:"center",bordered:!0,hoverable:!0,children:(0,t.jsxs)(r.Z,{gutter:[16,16],children:[(0,t.jsx)(o.Z,{span:24,children:(0,t.jsxs)(h.Z,{size:"middle",align:"start",wrap:!0,children:[(0,t.jsx)(n.ZP,{icon:(0,t.jsx)(Z.Z,{}),onClick:function(){return x(f)},children:e.formatMessage({id:"settings.export.all"})}),(0,t.jsx)(n.ZP,{icon:(0,t.jsx)(F.Z,{}),onClick:function(){return S(f)},children:e.formatMessage({id:"settings.export.config.success"},{key:"mta:cfg"})}),(0,t.jsx)(n.ZP,{icon:(0,t.jsx)(D.Z,{}),onClick:function(){return I(f)},children:e.formatMessage({id:"settings.export.stats-item.success"},{key:"mta:sta"})})]})}),(0,t.jsx)(o.Z,{span:24,children:(0,t.jsxs)(h.Z,{size:"middle",wrap:!0,children:[(0,t.jsx)(n.ZP,{icon:(0,t.jsx)(G.Z,{}),danger:!0,onClick:function(){return y(f)},children:e.formatMessage({id:"settings.clear.all"})}),(0,t.jsx)(n.ZP,{icon:(0,t.jsx)(_.Z,{}),danger:!0,onClick:function(){return rt(f)},children:e.formatMessage({id:"settings.clear.config"})}),(0,t.jsx)(n.ZP,{icon:(0,t.jsx)(D.Z,{}),danger:!0,onClick:function(){return B(f)},children:e.formatMessage({id:"settings.clear.stats"})})]})}),(0,t.jsx)(o.Z,{span:24,children:(0,t.jsx)($,{storageKey:f,name:e.formatMessage({id:M}),initialValue:(a=E==null?void 0:E.value)!==null&&a!==void 0?a:{},onSaved:m},f)})]})},"config-cart-".concat(f))})})]})},Q=H},6946:function(st,L,i){i.d(L,{GR:function(){return _},Jm:function(){return G},QM:function(){return W},Tp:function(){return Z},_Y:function(){return U},bA:function(){return V},fy:function(){return D},lv:function(){return k},oB:function(){return O},pd:function(){return F},qt:function(){return N}});var X=i(48305),R=i.n(X),J=i(31759),c=i.n(J),u=i(67849),Z=function(n,l){var r=localStorage.getItem("".concat(u.f1).concat(n));if(!r&&n==="tones:training"){var o=localStorage.getItem("music-teaching-assistant-settings");if(o)return localStorage.setItem("".concat(u.f1).concat(n),o),JSON.parse(o)}if(!r)return l;try{var s=JSON.parse(r);return s&&c()(s)==="object"&&"name"in s&&"value"in s?s.value:s}catch(T){return console.error("Failed to parse settings for ".concat(n),T),l}},F=function(n,l,r){var o=localStorage.getItem("".concat(u.f1).concat(n)),s=r;if(!s&&o)try{var T=JSON.parse(o);T!=null&&T.name&&(s=T.name)}catch(K){}var b={name:s||n,value:l,updatedAt:Date.now()};localStorage.setItem("".concat(u.f1).concat(n),JSON.stringify(b))},D=function(n,l){var r=localStorage.getItem("".concat(u.CV).concat(n));if(!r)return l;try{var o=JSON.parse(r);return o&&c()(o)==="object"&&"name"in o&&"value"in o?o.value:o}catch(s){return console.error("Failed to parse stats for ".concat(n),s),l}},U=function(n,l,r){var o=localStorage.getItem("".concat(u.CV).concat(n)),s=r;if(!s&&o)try{var T=JSON.parse(o);T!=null&&T.name&&(s=T.name)}catch(K){}var b={name:s||n,value:l,updatedAt:Date.now()};localStorage.setItem("".concat(u.CV).concat(n),JSON.stringify(b))},_=function(){for(var n={},l=0;l<localStorage.length;l++){var r=localStorage.key(l);if(r!=null&&r.startsWith(u.f1)){var o=localStorage.getItem(r);if(o)try{n[r.replace(u.f1,"")]=JSON.parse(o)}catch(s){console.error("Failed to parse all settings for key ".concat(r),s)}}}return n},G=function(){for(var n={},l=0;l<localStorage.length;l++){var r=localStorage.key(l);if(r!=null&&r.startsWith(u.CV)){var o=localStorage.getItem(r);if(o)try{n[r.replace(u.CV,"")]=JSON.parse(o)}catch(s){console.error("Failed to parse all stats for key ".concat(r),s)}}}return n},W=function(n){if(n&&c()(n)==="object"){if(n.settings||n.stats){n.settings&&Object.entries(n.settings).forEach(function(l){var r=R()(l,2),o=r[0],s=r[1];s&&c()(s)==="object"&&"name"in s&&"value"in s?localStorage.setItem("".concat(u.f1).concat(o),JSON.stringify(s)):F(o,s,o)}),n.stats&&Object.entries(n.stats).forEach(function(l){var r=R()(l,2),o=r[0],s=r[1];s&&c()(s)==="object"&&"name"in s&&"value"in s?localStorage.setItem("".concat(u.CV).concat(o),JSON.stringify(s)):U(o,s,o)});return}Object.entries(n).forEach(function(l){var r=R()(l,2),o=r[0],s=r[1];s&&c()(s)==="object"&&"name"in s&&"value"in s?localStorage.setItem("".concat(u.f1).concat(o),JSON.stringify(s)):F(o,s,o)})}},N=function(){for(var n=[],l=0;l<localStorage.length;l++){var r=localStorage.key(l);r!=null&&r.startsWith(u.f1)&&n.push(r)}n.forEach(function(o){return localStorage.removeItem(o)})},V=function(n){localStorage.removeItem("".concat(u.f1).concat(n))},O=function(){for(var n=[],l=0;l<localStorage.length;l++){var r=localStorage.key(l);r!=null&&r.startsWith(u.CV)&&n.push(r)}n.forEach(function(o){return localStorage.removeItem(o)})},k=function(n){localStorage.removeItem("".concat(u.CV).concat(n))}}}]);
