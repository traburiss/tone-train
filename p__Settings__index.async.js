"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[471],{20395:function(at,L,o){o.d(L,{An:function(){return N},CV:function(){return tt},Dz:function(){return O},F6:function(){return $},Gg:function(){return k},LB:function(){return u},N7:function(){return W},OG:function(){return c},QZ:function(){return g},Qx:function(){return e},Ry:function(){return Q},W4:function(){return x},Yi:function(){return nt},Zf:function(){return r},aj:function(){return R},cS:function(){return w},f1:function(){return K},qL:function(){return f},qx:function(){return F},sO:function(){return q},sw:function(){return M}});var Y="Umi Max",x="GuitarChords",W=[{label:"\u5409\u4ED6\u548C\u5F26",value:"GuitarChords"},{label:"\u5341\u4E8C\u97F3\u9636",value:"12Tone"},{label:"\u516B\u5EA6\u97F3\u9636",value:"8Tone"}],c="guitar-acoustic",f=[{label:"\u539F\u58F0\u5409\u4ED6",value:"guitar-acoustic"},{label:"\u7535\u5409\u4ED6",value:"guitar-electric"},{label:"\u94A2\u7434",value:"piano"}],R=["C","D","E","F","G","A","B"],N=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],O=[2,3,4,5,6],U=O.flatMap(function(b){return R.map(function(m){return"".concat(m).concat(b)})}),G=O.flatMap(function(b){return N.map(function(m){return"".concat(m).concat(b)})}),M=["C","D","E","F","G","A","B","Em","Am","Dm","Bm","F#m","C#m","Gm","C5","D5","E5","F5","G5","A5","B5","G7","C7","D7","E7","A7","B7","Cmaj7","Gmaj7","Fmaj7","Amaj7","Am7","Em7","Dm7","Bm7","F#m7","Dsus4","Asus4","Esus4","D/F#","C/G","G/B"],k=["C","D","G","A","Em","Am","Dm"],T=["C","D","G","A","Em","Am","Dm"],F=[{label:"\u65E0\u9650",value:"0"},{label:"20\u6B21",value:"20"},{label:"50\u6B21",value:"50"},{label:"200\u6B21",value:"200"},{label:"\u624B\u52A8\u8F93\u5165",value:"custom"}],J=!0,B=!1,i=1500,a=!1,l=1500,e=100,r=10*1e3,u=100,g=function(m){var A=Number(m);if(isNaN(A))return"".concat(m);var C=Math.floor(A/1e3),S="";if(C<60)S="".concat(C,"\u79D2");else{var D=Math.floor(C/60),j=C%60;S="".concat(D,"\u5206"),j>0&&(S+="".concat(j,"\u79D2"))}return"".concat(A," \u6BEB\u79D2 (").concat(S,")")},y=1e3,V=1500,X=2e3,t=1,H=!0,w=[{label:"C2",value:"C2"},{label:"C3",value:"C3"},{label:"C4",value:"C4"},{label:"C5",value:"C5"},{label:"C6",value:"C6"}],q={toneType:x,instrumentName:c,toneList:T,toneDuration:y,toneWait:V,ttsEnable:J,ttsWait:X,ttsRate:t,ttsSolfege:B,ttsSolfegeWait:i,ttsNotation:a,ttsNotationWait:l,random:H,loopCount:0,referenceNoteEnabled:!1,referenceNote:"C4"},K="mta:cfg:",tt="mta:sta:",$="tones:training",Q="tones:identification",nt=[{name:"\u542C\u97F3\u8BAD\u7EC3",key:$},{name:"\u542C\u97F3\u5224\u65AD",key:Q}]},78028:function(at,L,o){o.r(L),o.d(L,{default:function(){return nt}});var Y=o(48305),x=o.n(Y),W=o(20395),c=o(88489),f=o(18022),R=o(80788),N=o(9015),O=o(76350),U=o(30244),G=o(78732),M=o(2866),k=o(5318),T=o(440),F=o(30933),J=o(1073),B=o(52402),i=o(70439),a=o(17121),l=o(33717),e=o(91521),r=o(75271),u=o(90228),g=o.n(u),y=o(87999),V=o.n(y),X=o(8481),t=o(52676),H=function(m){var A=m.value,C=m.onChange,S=m.height,D=S===void 0?"300px":S,j=m.language,_=j===void 0?"json":j,p=m.readonly,z=p===void 0?!1:p,I=function(Z){C&&C(Z)};return(0,t.jsx)("div",{style:{border:"1px solid #d9d9d9",borderRadius:"4px",overflow:"auto",resize:"vertical",height:D},children:(0,t.jsx)(X.ZP,{height:"100%",language:_,value:A,onChange:I,options:{minimap:{enabled:!1},fontSize:13,scrollBeyondLastLine:!1,automaticLayout:!0,readOnly:z,tabSize:2,formatOnPaste:!0,formatOnType:!0}})})},w=H,q=o(69334),K=o(40624),tt=function(m){var A=m.storageKey,C=m.name,S=m.initialValue,D=m.onSaved,j=K.A.useForm(),_=x()(j,1),p=_[0];(0,r.useEffect)(function(){p.setFieldsValue({json:JSON.stringify(S,null,2)})},[S]);var z=function(){var I=V()(g()().mark(function P(Z){return g()().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:J.Z.confirm({title:"\u786E\u8BA4\u4FDD\u5B58\u914D\u7F6E\u5417\uFF1F",content:"\u786E\u8BA4\u4FDD\u5B58 ".concat(C," (key: ").concat(A,") \u7684\u914D\u7F6E\u5417\uFF1F"),okText:"\u786E\u8BA4",okType:"primary",onOk:function(){try{var s=JSON.parse(Z.json);(0,c.pd)(A,s,C),F.ZP.success("".concat(C," \u4FDD\u5B58\u6210\u529F")),D()}catch(h){F.ZP.error("\u4FDD\u5B58\u5931\u8D25\uFF1AJSON \u8BED\u6CD5\u9519\u8BEF")}}});case 1:case"end":return v.stop()}},P)}));return function(Z){return I.apply(this,arguments)}}();return(0,t.jsx)(T.Z,{title:(0,t.jsx)("span",{className:"font-bold text-primary",children:C}),subTitle:(0,t.jsxs)("code",{className:"text-xs text-secondary opacity-60 ml-2",children:["Key: ",A]}),className:"mb-4 shadow-sm",collapsible:!0,defaultCollapsed:!0,children:(0,t.jsx)(K.A,{form:p,onFinish:z,submitter:{render:function(P){return(0,t.jsx)(i.ZP,{type:"primary",icon:(0,t.jsx)(q.Z,{}),onClick:function(){return P.submit()},children:"\u4FDD\u5B58\u672C\u9879\u4FEE\u6539"})}},children:(0,t.jsx)(K.A.Item,{name:"json",label:"\u914D\u7F6E\u503C",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u914D\u7F6E\u5185\u5BB9"}],children:(0,t.jsx)(w,{height:"300px"})})})})},$=tt,Q=function(){var m=(0,r.useState)({}),A=x()(m,2),C=A[0],S=A[1],D=function(){S((0,c.GR)())};(0,r.useEffect)(function(){D()},[]);var j=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,s=n===null?{settings:(0,c.GR)(),stats:(0,c.Jm)()}:{settings:(0,c.Tp)(n,{}),stats:(0,c.fy)(n,{})},h=new Blob([JSON.stringify(s,null,2)],{type:"application/json"}),E=URL.createObjectURL(h),d=document.createElement("a");d.href=E,d.download="mta-all-data-".concat(new Date().toISOString().split("T")[0],".json"),d.click(),URL.revokeObjectURL(E),F.ZP.success(n===null?"\u5BFC\u51FA\u5168\u91CF\u6570\u636E\u6210\u529F":"\u5BFC\u51FA ".concat(n," \u914D\u7F6E\u6210\u529F"))},_=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,s=n===null?(0,c.GR)():(0,c.Tp)(n,{}),h=new Blob([JSON.stringify(s,null,2)],{type:"application/json"}),E=URL.createObjectURL(h),d=document.createElement("a");d.href=E,d.download="mta-config-only-".concat(new Date().toISOString().split("T")[0],".json"),d.click(),URL.revokeObjectURL(E),F.ZP.success(n===null?"\u5BFC\u51FA\u914D\u7F6E\u6570\u636E\u6210\u529F":"\u5BFC\u51FA ".concat(n," \u914D\u7F6E\u6210\u529F"))},p=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,s=n===null?(0,c.Jm)():(0,c.fy)(n,{}),h=new Blob([JSON.stringify(s,null,2)],{type:"application/json"}),E=URL.createObjectURL(h),d=document.createElement("a");d.href=E,d.download="mta-stats-only-".concat(new Date().toISOString().split("T")[0],".json"),d.click(),URL.revokeObjectURL(E),F.ZP.success(n===null?"\u5BFC\u51FA\u7EDF\u8BA1\u6570\u636E\u6210\u529F":"\u5BFC\u51FA ".concat(n," \u7EDF\u8BA1\u6570\u636E\u6210\u529F"))},z=function(n){var s=new FileReader;return s.onload=function(h){try{var E,d=JSON.parse((E=h.target)===null||E===void 0?void 0:E.result);(0,c.QM)(d),F.ZP.success("\u5BFC\u5165\u6570\u636E\u6210\u529F"),D()}catch(ut){F.ZP.error("\u5BFC\u5165\u5931\u8D25\uFF1AJSON \u683C\u5F0F\u4E0D\u6B63\u786E")}},s.readAsText(n),!1},I=function(n,s,h){J.Z.confirm({title:n,content:s,okText:"\u786E\u8BA4\u6E05\u7406",okType:"danger",onOk:h})},P=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;I(n===null?"\u786E\u8BA4\u91CD\u7F6E\u6240\u6709\u6570\u636E\uFF1F":"\u786E\u8BA4\u91CD\u7F6E ".concat(n," \u6570\u636E\uFF1F"),n===null?"\u8BE5\u64CD\u4F5C\u5C06\u5220\u9664\u6240\u6709\uFF08\u5E26\u6709 mta:cfg \u548C mta:sta \u524D\u7F00\u7684\uFF09\u672C\u5730\u8BBE\u7F6E\u548C\u7EDF\u8BA1\u80CC\u666F\u3002":"\u8BE5\u64CD\u4F5C\u5C06\u5220\u9664\u6240\u6709\u5E26\u6709 ".concat(n," \u524D\u7F00\u7684\u672C\u5730\u8BBE\u7F6E\u548C\u7EDF\u8BA1\u80CC\u666F\u3002"),function(){n===null?((0,c.qt)(),(0,c.oB)()):((0,c.bA)(n),(0,c.lv)(n)),F.ZP.success(n===null?"\u6240\u6709\u8BBE\u7F6E\u4E0E\u7EDF\u8BA1\u5DF2\u91CD\u7F6E":"\u6240\u6709 ".concat(n," \u8BBE\u7F6E\u4E0E\u7EDF\u8BA1\u5DF2\u91CD\u7F6E")),D()})},Z=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;I(n===null?"\u786E\u8BA4\u6E05\u7A7A\u6240\u6709\u914D\u7F6E\uFF1F":"\u786E\u8BA4\u6E05\u7A7A ".concat(n," \u914D\u7F6E\uFF1F"),n===null?"\u8BE5\u64CD\u4F5C\u4EC5\u5220\u9664\u5E26\u6709 mta:cfg \u524D\u7F00\u7684\u8BBE\u7F6E\uFF0C\u7EDF\u8BA1\u6570\u636E\u5C06\u4FDD\u7559\u3002":"\u8BE5\u64CD\u4F5C\u4EC5\u5220\u9664\u5E26\u6709 ".concat(n," \u524D\u7F00\u7684\u8BBE\u7F6E\uFF0C\u7EDF\u8BA1\u6570\u636E\u5C06\u4FDD\u7559\u3002"),function(){n===null?(0,c.qt)():(0,c.bA)(n),F.ZP.success(n===null?"\u6240\u6709\u914D\u7F6E\u5DF2\u6E05\u7A7A":"\u6240\u6709 ".concat(n," \u914D\u7F6E\u5DF2\u6E05\u7A7A")),D()})},et=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;I(n===null?"\u786E\u8BA4\u6E05\u7A7A\u6240\u6709\u7EDF\u8BA1\uFF1F":"\u786E\u8BA4\u6E05\u7A7A ".concat(n," \u7EDF\u8BA1\uFF1F"),n===null?"\u8BE5\u64CD\u4F5C\u4EC5\u5220\u9664\u5E26\u6709 mta:sta \u524D\u7F00\u7684\u6570\u636E\uFF0C\u914D\u7F6E\u4FE1\u606F\u5C06\u4FDD\u7559\u3002":"\u8BE5\u64CD\u4F5C\u4EC5\u5220\u9664\u5E26\u6709 ".concat(n," \u524D\u7F00\u7684\u6570\u636E\uFF0C\u914D\u7F6E\u4FE1\u606F\u5C06\u4FDD\u7559\u3002"),function(){n===null?(0,c.oB)():(0,c.lv)(n),F.ZP.success(n===null?"\u6240\u6709\u7EDF\u8BA1\u5DF2\u6E05\u7A7A":"\u6240\u6709 ".concat(n," \u7EDF\u8BA1\u5DF2\u6E05\u7A7A")),D()})};return(0,t.jsxs)(k._z,{title:"\u7CFB\u7EDF\u8BBE\u7F6E\u9879\u76EE\u7BA1\u7406",children:[(0,t.jsxs)(T.Z,{title:"\u5168\u5C40\u6570\u636E\u64CD\u4F5C",gutter:[16,16],wrap:!0,ghost:!0,children:[(0,t.jsx)(T.Z,{title:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(f.Z,{})," \u5BFC\u51FA\u6570\u636E"]}),colSpan:{xs:24,sm:12,md:8},bordered:!0,hoverable:!0,children:(0,t.jsxs)(B.Z,{size:"middle",align:"start",wrap:!0,children:[(0,t.jsx)(i.ZP,{icon:(0,t.jsx)(R.Z,{}),onClick:function(){return j(null)},children:"\u5168\u91CF\u5BFC\u51FA (\u914D\u7F6E+\u7EDF\u8BA1)"}),(0,t.jsx)(i.ZP,{icon:(0,t.jsx)(N.Z,{}),onClick:function(){return _(null)},children:"\u4EC5\u5BFC\u51FA\u914D\u7F6E (mta:cfg)"}),(0,t.jsx)(i.ZP,{icon:(0,t.jsx)(O.Z,{}),onClick:function(){return p(null)},children:"\u4EC5\u5BFC\u51FA\u7EDF\u8BA1 (mta:sta)"})]})}),(0,t.jsx)(T.Z,{title:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(U.Z,{})," \u5BFC\u5165\u6570\u636E"]}),colSpan:{xs:24,sm:12,md:8},bordered:!0,hoverable:!0,children:(0,t.jsx)(a.Z,{beforeUpload:z,showUploadList:!1,accept:".json",children:(0,t.jsx)(i.ZP,{icon:(0,t.jsx)(U.Z,{}),type:"primary",children:"\u5F00\u59CB\u5BFC\u5165 (JSON)"})})}),(0,t.jsx)(T.Z,{title:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(G.Z,{})," \u6E05\u7406\u6570\u636E"]}),colSpan:{xs:24,sm:12,md:8},bordered:!0,hoverable:!0,children:(0,t.jsxs)(B.Z,{size:"middle",align:"start",wrap:!0,children:[(0,t.jsx)(i.ZP,{icon:(0,t.jsx)(M.Z,{}),danger:!0,onClick:function(){return P(null)},children:"\u6E05\u7406\u5168\u91CF"}),(0,t.jsx)(i.ZP,{icon:(0,t.jsx)(G.Z,{}),danger:!0,onClick:function(){return Z(null)},children:"\u6E05\u7406\u914D\u7F6E"}),(0,t.jsx)(i.ZP,{icon:(0,t.jsx)(O.Z,{}),danger:!0,onClick:function(){return et(null)},children:"\u6E05\u7406\u7EDF\u8BA1"})]})})]}),(0,t.jsx)(T.Z,{title:"\u529F\u80FD\u9879\u64CD\u4F5C",gutter:[16,16],wrap:!0,ghost:!0,children:W.Yi.map(function(v){var n,s=v.key,h=v.name,E=C[s];return(0,t.jsx)(T.Z,{title:h,colSpan:{xs:24,sm:12,md:8},layout:"center",bordered:!0,hoverable:!0,children:(0,t.jsxs)(l.Z,{gutter:[16,16],children:[(0,t.jsx)(e.Z,{span:24,children:(0,t.jsxs)(B.Z,{size:"middle",align:"start",wrap:!0,children:[(0,t.jsx)(i.ZP,{icon:(0,t.jsx)(R.Z,{}),onClick:function(){return j(s)},children:"\u5168\u91CF\u5BFC\u51FA (\u914D\u7F6E+\u7EDF\u8BA1)"}),(0,t.jsx)(i.ZP,{icon:(0,t.jsx)(N.Z,{}),onClick:function(){return _(s)},children:"\u5BFC\u51FA\u914D\u7F6E (mta:cfg)"}),(0,t.jsx)(i.ZP,{icon:(0,t.jsx)(O.Z,{}),onClick:function(){return p(s)},children:"\u5BFC\u51FA\u7EDF\u8BA1 (mta:sta)"})]})}),(0,t.jsx)(e.Z,{span:24,children:(0,t.jsxs)(B.Z,{size:"middle",wrap:!0,children:[(0,t.jsx)(i.ZP,{icon:(0,t.jsx)(M.Z,{}),danger:!0,onClick:function(){return P(s)},children:"\u6E05\u7406\u5168\u91CF (\u914D\u7F6E+\u7EDF\u8BA1)"}),(0,t.jsx)(i.ZP,{icon:(0,t.jsx)(G.Z,{}),danger:!0,onClick:function(){return Z(s)},children:"\u6E05\u7406\u914D\u7F6E (mta:cfg)"}),(0,t.jsx)(i.ZP,{icon:(0,t.jsx)(O.Z,{}),danger:!0,onClick:function(){return et(s)},children:"\u6E05\u7406\u7EDF\u8BA1 (mta:sta)"})]})}),(0,t.jsx)(e.Z,{span:24,children:(0,t.jsx)($,{storageKey:s,name:h,initialValue:(n=E==null?void 0:E.value)!==null&&n!==void 0?n:{},onSaved:D},s)})]})},"config-cart-".concat(s))})})]})},nt=Q},88489:function(at,L,o){o.d(L,{GR:function(){return G},Jm:function(){return M},QM:function(){return k},Tp:function(){return R},_Y:function(){return U},bA:function(){return F},fy:function(){return O},lv:function(){return B},oB:function(){return J},pd:function(){return N},qt:function(){return T}});var Y=o(48305),x=o.n(Y),W=o(31759),c=o.n(W),f=o(20395),R=function(a,l){var e=localStorage.getItem("".concat(f.f1).concat(a));if(!e&&a==="tones:training"){var r=localStorage.getItem("music-teaching-assistant-settings");if(r)return localStorage.setItem("".concat(f.f1).concat(a),r),JSON.parse(r)}if(!e)return l;try{var u=JSON.parse(e);return u&&c()(u)==="object"&&"name"in u&&"value"in u?u.value:u}catch(g){return console.error("Failed to parse settings for ".concat(a),g),l}},N=function(a,l,e){var r=localStorage.getItem("".concat(f.f1).concat(a)),u=e;if(!u&&r)try{var g=JSON.parse(r);g!=null&&g.name&&(u=g.name)}catch(V){}var y={name:u||a,value:l,updatedAt:Date.now()};localStorage.setItem("".concat(f.f1).concat(a),JSON.stringify(y))},O=function(a,l){var e=localStorage.getItem("".concat(f.CV).concat(a));if(!e)return l;try{var r=JSON.parse(e);return r&&c()(r)==="object"&&"name"in r&&"value"in r?r.value:r}catch(u){return console.error("Failed to parse stats for ".concat(a),u),l}},U=function(a,l,e){var r=localStorage.getItem("".concat(f.CV).concat(a)),u=e;if(!u&&r)try{var g=JSON.parse(r);g!=null&&g.name&&(u=g.name)}catch(V){}var y={name:u||a,value:l,updatedAt:Date.now()};localStorage.setItem("".concat(f.CV).concat(a),JSON.stringify(y))},G=function(){for(var a={},l=0;l<localStorage.length;l++){var e=localStorage.key(l);if(e!=null&&e.startsWith(f.f1)){var r=localStorage.getItem(e);if(r)try{a[e.replace(f.f1,"")]=JSON.parse(r)}catch(u){console.error("Failed to parse all settings for key ".concat(e),u)}}}return a},M=function(){for(var a={},l=0;l<localStorage.length;l++){var e=localStorage.key(l);if(e!=null&&e.startsWith(f.CV)){var r=localStorage.getItem(e);if(r)try{a[e.replace(f.CV,"")]=JSON.parse(r)}catch(u){console.error("Failed to parse all stats for key ".concat(e),u)}}}return a},k=function(a){if(a&&c()(a)==="object"){if(a.settings||a.stats){a.settings&&Object.entries(a.settings).forEach(function(l){var e=x()(l,2),r=e[0],u=e[1];u&&c()(u)==="object"&&"name"in u&&"value"in u?localStorage.setItem("".concat(f.f1).concat(r),JSON.stringify(u)):N(r,u,r)}),a.stats&&Object.entries(a.stats).forEach(function(l){var e=x()(l,2),r=e[0],u=e[1];u&&c()(u)==="object"&&"name"in u&&"value"in u?localStorage.setItem("".concat(f.CV).concat(r),JSON.stringify(u)):U(r,u,r)});return}Object.entries(a).forEach(function(l){var e=x()(l,2),r=e[0],u=e[1];u&&c()(u)==="object"&&"name"in u&&"value"in u?localStorage.setItem("".concat(f.f1).concat(r),JSON.stringify(u)):N(r,u,r)})}},T=function(){for(var a=[],l=0;l<localStorage.length;l++){var e=localStorage.key(l);e!=null&&e.startsWith(f.f1)&&a.push(e)}a.forEach(function(r){return localStorage.removeItem(r)})},F=function(a){localStorage.removeItem("".concat(f.f1).concat(a))},J=function(){for(var a=[],l=0;l<localStorage.length;l++){var e=localStorage.key(l);e!=null&&e.startsWith(f.CV)&&a.push(e)}a.forEach(function(r){return localStorage.removeItem(r)})},B=function(a){localStorage.removeItem("".concat(f.CV).concat(a))}}}]);
