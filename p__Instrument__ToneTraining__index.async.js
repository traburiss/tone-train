!(function(){"use strict";var Cn=Object.defineProperty,yn=Object.defineProperties;var Fn=Object.getOwnPropertyDescriptors;var Ee=Object.getOwnPropertySymbols;var it=Object.prototype.hasOwnProperty,st=Object.prototype.propertyIsEnumerable;var rt=(D,A,o)=>A in D?Cn(D,A,{enumerable:!0,configurable:!0,writable:!0,value:o}):D[A]=o,g=(D,A)=>{for(var o in A||(A={}))it.call(A,o)&&rt(D,o,A[o]);if(Ee)for(var o of Ee(A))st.call(A,o)&&rt(D,o,A[o]);return D},q=(D,A)=>yn(D,Fn(A));var Be=(D,A)=>{var o={};for(var z in D)it.call(D,z)&&A.indexOf(z)<0&&(o[z]=D[z]);if(D!=null&&Ee)for(var z of Ee(D))A.indexOf(z)<0&&st.call(D,z)&&(o[z]=D[z]);return o};(self.webpackChunk=self.webpackChunk||[]).push([[602],{37026:function(D,A,o){o.r(A),o.d(A,{default:function(){return vn}});var z=o(26068),H=o.n(z),lt=o(48305),O=o.n(lt),ut=o(2917),m=o(20395),V=o(40624),Le=o(24486),te=o(97375),ct=o(1501),_=o(59942),Pe=o(28322),i=o(75271),Ne=o(65195),r=o(52676),dt=["fieldProps","unCheckedChildren","checkedChildren","proFieldProps"],ft=i.forwardRef(function(t,e){var n=t.fieldProps,a=t.unCheckedChildren,c=t.checkedChildren,s=t.proFieldProps,d=(0,Pe.Z)(t,dt);return(0,r.jsx)(Ne.Z,(0,_.Z)({valueType:"switch",fieldProps:(0,_.Z)({unCheckedChildren:a,checkedChildren:c},n),ref:e,valuePropName:"checked",proFieldProps:s,filedConfig:{valuePropName:"checked",ignoreWidth:!0,customLightMode:!0}},d))}),me=ft,Re=o(92418),We=o(40356),mt=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","showSearch","options"],pt=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","options"],gt=function(e,n){var a=e.fieldProps,c=e.children,s=e.params,d=e.proFieldProps,p=e.mode,v=e.valueEnum,f=e.request,h=e.showSearch,P=e.options,S=(0,Pe.Z)(e,mt),B=(0,i.useContext)(We.Z);return(0,r.jsx)(Ne.Z,(0,_.Z)((0,_.Z)({valueEnum:(0,Re.h)(v),request:f,params:s,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,_.Z)({options:P,mode:p,showSearch:h,getPopupContainer:B.getPopupContainer},a),ref:n,proFieldProps:d},S),{},{children:c}))},ht=i.forwardRef(function(t,e){var n=t.fieldProps,a=t.children,c=t.params,s=t.proFieldProps,d=t.mode,p=t.valueEnum,v=t.request,f=t.options,h=(0,Pe.Z)(t,pt),P=(0,_.Z)({options:f,mode:d||"multiple",labelInValue:!0,showSearch:!0,suffixIcon:null,autoClearSearchValue:!0,optionLabelProp:"label"},n),S=(0,i.useContext)(We.Z);return(0,r.jsx)(Ne.Z,(0,_.Z)((0,_.Z)({valueEnum:(0,Re.h)(p),request:v,params:c,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,_.Z)({getPopupContainer:S.getPopupContainer},P),ref:e,proFieldProps:s},h),{},{children:a}))}),vt=i.forwardRef(gt),Ct=ht,$e=vt;$e.SearchSelect=Ct,$e.displayName="ProFormComponent";var yt=$e,we=o(45803),Ft=function(){return(0,r.jsxs)(we.Z,{title:"\u57FA\u7840\u914D\u7F6E",className:"mb-3 sm:mb-6",children:[(0,r.jsx)(V.A.Group,{children:(0,r.jsx)(Le.Z.Group,{name:"instrumentName",label:"\u97F3\u8272\u9009\u62E9",tooltip:"\u7528\u6237\u53EF\u4EE5\u9009\u62E9\u81EA\u5DF1\u4E60\u60EF\u7684\u97F3\u8272\u6765\u542C\u97F3\u540D\u64AD\u653E",radioType:"button",fieldProps:{buttonStyle:"solid",size:"small"},options:m.qL})}),(0,r.jsxs)(V.A.Group,{children:[(0,r.jsx)(Le.Z.Group,{name:"loopCountType",label:"\u5FAA\u73AF\u6B21\u6570",tooltip:"\u7528\u6237\u53EF\u4EE5\u9009\u62E9\u5FAA\u73AF\u6B21\u6570\uFF0C\u6216\u8005\u81EA\u5B9A\u4E49\u5FAA\u73AF\u6B21\u6570",radioType:"button",fieldProps:{buttonStyle:"solid",size:"small"},options:m.qx}),(0,r.jsx)(te.Z,{name:["loopCountType"],children:function(n){var a=n.loopCountType;return a==="custom"&&(0,r.jsx)(ct.Z,{name:"loopCountCustom",label:" ",width:"xs",placeholder:"\u6B21\u6570",min:1,max:1e3,fieldProps:{precision:0}})}})]}),(0,r.jsx)(V.A.Group,{children:(0,r.jsx)(me,{name:"random",label:"\u968F\u673A\u64AD\u653E",tooltip:"\u4E0D\u8981\u6309\u7167\u97F3\u9636\u987A\u5E8F\u64AD\u653E\u97F3\u9636"})}),(0,r.jsxs)(V.A.Group,{children:[(0,r.jsx)(me,{name:"referenceNoteEnabled",label:"\u64AD\u653E\u57FA\u51C6",tooltip:"\u64AD\u653E\u97F3\u9636\u65F6\uFF0C\u4F1A\u5148\u64AD\u653E\u57FA\u51C6\u97F3\uFF0C\u518D\u64AD\u653E\u97F3\u9636\uFF0C\u4EE5\u964D\u4F4E\u96BE\u5EA6"}),(0,r.jsx)(te.Z,{name:["referenceNoteEnabled"],children:function(n){var a=n.referenceNoteEnabled;return a&&(0,r.jsx)(yt,{name:"referenceNote",label:" ",width:"xs",options:m.cS,placeholder:"\u9009\u62E9\u57FA\u51C6\u97F3"})}})]})]})},xt=Ft,ie=o(84611),bt=function(){return(0,r.jsxs)(we.Z,{title:"\u64AD\u653E\u914D\u7F6E",className:"mb-3 sm:mb-6",children:[(0,r.jsxs)(V.A.Group,{title:"\u65F6\u95F4\u8BBE\u7F6E",children:[(0,r.jsx)(ie.Z,{name:"toneDuration",label:"\u97F3\u9636\u65F6\u957F",width:"md",min:m.Qx,max:m.Zf,step:m.LB,fieldProps:{tooltip:{formatter:m.QZ}}}),(0,r.jsx)(ie.Z,{name:"toneWait",label:"\u97F3\u9636\u64AD\u540E\u7B49\u5F85",width:"md",min:m.Qx,max:m.Zf,step:m.LB,fieldProps:{tooltip:{formatter:m.QZ}}})]}),(0,r.jsxs)(V.A.Group,{title:"\u97F3\u540D\u64AD\u62A5\u8BBE\u7F6E",children:[(0,r.jsx)(me,{name:"ttsEnable",label:"\u8BED\u97F3\u62A5\u97F3\u540D",tooltip:"\u6BCF\u6B21\u7ED3\u675F\u540E\u64AD\u62A5\u97F3\u540D"}),(0,r.jsx)(te.Z,{name:["ttsEnable"],children:function(n){var a=n.ttsEnable;return a&&(0,r.jsx)(ie.Z,{name:"ttsRate",label:"\u62A5\u97F3\u9636\u8BED\u901F",tooltip:"\u500D\u6570\u8D8A\u5927\u8D8A\u6162",width:"md",min:.5,max:4,step:.1,fieldProps:{tooltip:{formatter:function(s){return"".concat(s,"x \u65F6\u957F")}}}})}}),(0,r.jsx)(te.Z,{name:["ttsEnable"],children:function(n){var a=n.ttsEnable;return a&&(0,r.jsx)(ie.Z,{name:"ttsWait",label:"\u62A5\u97F3\u540D\u540E\u7B49\u5F85",width:"md",min:m.Qx,max:m.Zf,step:m.LB,fieldProps:{tooltip:{formatter:m.QZ}}})}})]}),(0,r.jsx)(te.Z,{name:["ttsEnable"],children:function(n){var a=n.ttsEnable;return a&&(0,r.jsxs)(V.A.Group,{children:[(0,r.jsx)(me,{name:"ttsSolfege",label:"\u989D\u5916\u62A5\u5531\u540D",tooltip:"\u62A5\u5B8C\u97F3\u540D\u540E\uFF0C\u8FFD\u52A0\u5531\u540D\uFF08\u5982\uFF1ADo\uFF09"}),(0,r.jsx)(te.Z,{name:["ttsSolfege"],children:function(s){var d=s.ttsSolfege;return d&&(0,r.jsx)(ie.Z,{name:"ttsSolfegeWait",label:"\u5531\u540D\u95F4\u9694",width:"sm",min:m.Qx,max:m.Zf,step:m.LB,fieldProps:{tooltip:{formatter:m.QZ}}})}})]})}}),(0,r.jsx)(te.Z,{name:["ttsEnable"],children:function(n){var a=n.ttsEnable;return a&&(0,r.jsxs)(V.A.Group,{children:[(0,r.jsx)(me,{name:"ttsNotation",label:"\u989D\u5916\u62A5\u7B80\u8C31",tooltip:"\u62A5\u5B8C\u97F3\u540D\u540E\uFF0C\u8FFD\u52A0\u7B80\u8C31\u8BB0\u53F7\uFF08\u5982\uFF1A1\uFF09"}),(0,r.jsx)(te.Z,{name:["ttsNotation"],children:function(s){var d=s.ttsNotation;return d&&(0,r.jsx)(ie.Z,{name:"ttsNotationWait",label:"\u7B80\u8C31\u95F4\u9694",width:"sm",min:m.Qx,max:m.Zf,step:m.LB,fieldProps:{tooltip:{formatter:m.QZ}}})}})]})}})]})},St=bt,Et=o(90228),ye=o.n(Et),Pt=o(87999),Me=o.n(Pt),Nt=o(53034),$t=o(85344),pe=o(4416),Te=o(65535),je=o(53419),Tt=o(99430),Ge=o(1073),jt=o(87150),Dt=o(30371),se=o(85419),De=o(44241),ze=o(95977),He=o(6640),Oe=o(9281),Ve=o(49735),At=o(80743),Ae=o(64933),Q=o(4814),le=o(62114),ue=o(8201),Qe=o(95314),K=o(49933),It=o(15690),ke=o(15218),Zt=o(53925),Ue=o(32748),Bt=t=>{const{componentCls:e,notificationMarginEdge:n,animationMaxHeight:a}=t,c=`${e}-notice`,s=new K.E4("antNotificationFadeIn",{"0%":{transform:"translate3d(100%, 0, 0)",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",opacity:1}}),d=new K.E4("antNotificationTopFadeIn",{"0%":{top:-a,opacity:0},"100%":{top:0,opacity:1}}),p=new K.E4("antNotificationBottomFadeIn",{"0%":{bottom:t.calc(a).mul(-1).equal(),opacity:0},"100%":{bottom:0,opacity:1}}),v=new K.E4("antNotificationLeftFadeIn",{"0%":{transform:"translate3d(-100%, 0, 0)",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",opacity:1}});return{[e]:{[`&${e}-top, &${e}-bottom`]:{marginInline:0,[c]:{marginInline:"auto auto"}},[`&${e}-top`]:{[`${e}-fade-enter${e}-fade-enter-active, ${e}-fade-appear${e}-fade-appear-active`]:{animationName:d}},[`&${e}-bottom`]:{[`${e}-fade-enter${e}-fade-enter-active, ${e}-fade-appear${e}-fade-appear-active`]:{animationName:p}},[`&${e}-topRight, &${e}-bottomRight`]:{[`${e}-fade-enter${e}-fade-enter-active, ${e}-fade-appear${e}-fade-appear-active`]:{animationName:s}},[`&${e}-topLeft, &${e}-bottomLeft`]:{marginRight:{value:0,_skip_check_:!0},marginLeft:{value:n,_skip_check_:!0},[c]:{marginInlineEnd:"auto",marginInlineStart:0},[`${e}-fade-enter${e}-fade-enter-active, ${e}-fade-appear${e}-fade-appear-active`]:{animationName:v}}}}};const Lt=["top","topLeft","topRight","bottom","bottomLeft","bottomRight"],Rt={topLeft:"left",topRight:"right",bottomLeft:"left",bottomRight:"right",top:"left",bottom:"left"},Wt=(t,e)=>{const{componentCls:n}=t;return{[`${n}-${e}`]:{[`&${n}-stack > ${n}-notice-wrapper`]:{[e.startsWith("top")?"top":"bottom"]:0,[Rt[e]]:{value:0,_skip_check_:!0}}}}},wt=t=>{const e={};for(let n=1;n<t.notificationStackLayer;n++)e[`&:nth-last-child(${n+1})`]={overflow:"hidden",[`& > ${t.componentCls}-notice`]:{opacity:0,transition:`opacity ${t.motionDurationMid}`}};return g({[`&:not(:nth-last-child(-n+${t.notificationStackLayer}))`]:{opacity:0,overflow:"hidden",color:"transparent",pointerEvents:"none"}},e)},Mt=t=>{const e={};for(let n=1;n<t.notificationStackLayer;n++)e[`&:nth-last-child(${n+1})`]={background:t.colorBgBlur,backdropFilter:"blur(10px)","-webkit-backdrop-filter":"blur(10px)"};return g({},e)};var Gt=t=>{const{componentCls:e}=t;return g({[`${e}-stack`]:{[`& > ${e}-notice-wrapper`]:g({transition:`transform ${t.motionDurationSlow}, backdrop-filter 0s`,willChange:"transform, opacity",position:"absolute"},wt(t))},[`${e}-stack:not(${e}-stack-expanded)`]:{[`& > ${e}-notice-wrapper`]:g({},Mt(t))},[`${e}-stack${e}-stack-expanded`]:{[`& > ${e}-notice-wrapper`]:{"&:not(:nth-last-child(-n + 1))":{opacity:1,overflow:"unset",color:"inherit",pointerEvents:"auto",[`& > ${t.componentCls}-notice`]:{opacity:1}},"&:after":{content:'""',position:"absolute",height:t.margin,width:"100%",insetInline:0,bottom:t.calc(t.margin).mul(-1).equal(),background:"transparent",pointerEvents:"auto"}}}},Lt.map(n=>Wt(t,n)).reduce((n,a)=>g(g({},n),a),{}))};const Xe=t=>{const{iconCls:e,componentCls:n,boxShadow:a,fontSizeLG:c,notificationMarginBottom:s,borderRadiusLG:d,colorSuccess:p,colorInfo:v,colorWarning:f,colorError:h,colorTextHeading:P,notificationBg:S,notificationPadding:B,notificationMarginEdge:I,progressBg:w,notificationProgressHeight:Z,fontSize:N,lineHeight:l,width:F,notificationIconSize:E,colorText:x,colorSuccessBg:$,colorErrorBg:R,colorInfoBg:j,colorWarningBg:k}=t,y=`${n}-notice`;return{position:"relative",marginBottom:s,marginInlineStart:"auto",background:S,borderRadius:d,boxShadow:a,[y]:{padding:B,width:F,maxWidth:`calc(100vw - ${(0,K.bf)(t.calc(I).mul(2).equal())})`,lineHeight:l,wordWrap:"break-word",borderRadius:d,overflow:"hidden","&-success":$?{background:$}:{},"&-error":R?{background:R}:{},"&-info":j?{background:j}:{},"&-warning":k?{background:k}:{}},[`${y}-title`]:{marginBottom:t.marginXS,color:P,fontSize:c,lineHeight:t.lineHeightLG},[`${y}-description`]:{fontSize:N,color:x,marginTop:t.marginXS},[`${y}-closable ${y}-title`]:{paddingInlineEnd:t.paddingLG},[`${y}-with-icon ${y}-title`]:{marginBottom:t.marginXS,marginInlineStart:t.calc(t.marginSM).add(E).equal(),fontSize:c},[`${y}-with-icon ${y}-description`]:{marginInlineStart:t.calc(t.marginSM).add(E).equal(),fontSize:N},[`${y}-icon`]:{position:"absolute",fontSize:E,lineHeight:1,[`&-success${e}`]:{color:p},[`&-info${e}`]:{color:v},[`&-warning${e}`]:{color:f},[`&-error${e}`]:{color:h}},[`${y}-close`]:g({position:"absolute",top:t.notificationPaddingVertical,insetInlineEnd:t.notificationPaddingHorizontal,color:t.colorIcon,outline:"none",width:t.notificationCloseButtonSize,height:t.notificationCloseButtonSize,borderRadius:t.borderRadiusSM,transition:`background-color ${t.motionDurationMid}, color ${t.motionDurationMid}`,display:"flex",alignItems:"center",justifyContent:"center",background:"none",border:"none","&:hover":{color:t.colorIconHover,backgroundColor:t.colorBgTextHover},"&:active":{backgroundColor:t.colorBgTextActive}},(0,ke.Qy)(t)),[`${y}-progress`]:{position:"absolute",display:"block",appearance:"none",inlineSize:`calc(100% - ${(0,K.bf)(d)} * 2)`,left:{_skip_check_:!0,value:d},right:{_skip_check_:!0,value:d},bottom:0,blockSize:Z,border:0,"&, &::-webkit-progress-bar":{borderRadius:d,backgroundColor:"rgba(0, 0, 0, 0.04)"},"&::-moz-progress-bar":{background:w},"&::-webkit-progress-value":{borderRadius:d,background:w}},[`${y}-actions`]:{float:"right",marginTop:t.marginSM}}},zt=t=>{const{componentCls:e,notificationMarginBottom:n,notificationMarginEdge:a,motionDurationMid:c,motionEaseInOut:s}=t,d=`${e}-notice`,p=new K.E4("antNotificationFadeOut",{"0%":{maxHeight:t.animationMaxHeight,marginBottom:n},"100%":{maxHeight:0,marginBottom:0,paddingTop:0,paddingBottom:0,opacity:0}});return[{[e]:q(g({},(0,ke.Wf)(t)),{position:"fixed",zIndex:t.zIndexPopup,marginRight:{value:a,_skip_check_:!0},[`${e}-hook-holder`]:{position:"relative"},[`${e}-fade-appear-prepare`]:{opacity:"0 !important"},[`${e}-fade-enter, ${e}-fade-appear`]:{animationDuration:t.motionDurationMid,animationTimingFunction:s,animationFillMode:"both",opacity:0,animationPlayState:"paused"},[`${e}-fade-leave`]:{animationTimingFunction:s,animationFillMode:"both",animationDuration:c,animationPlayState:"paused"},[`${e}-fade-enter${e}-fade-enter-active, ${e}-fade-appear${e}-fade-appear-active`]:{animationPlayState:"running"},[`${e}-fade-leave${e}-fade-leave-active`]:{animationName:p,animationPlayState:"running"},"&-rtl":{direction:"rtl",[`${d}-actions`]:{float:"left"}}})},{[e]:{[`${d}-wrapper`]:Xe(t)}}]},Je=t=>({zIndexPopup:t.zIndexPopupBase+It.u6+50,width:384,progressBg:`linear-gradient(90deg, ${t.colorPrimaryBorderHover}, ${t.colorPrimary})`,colorSuccessBg:void 0,colorErrorBg:void 0,colorInfoBg:void 0,colorWarningBg:void 0}),Ke=t=>{const e=t.paddingMD,n=t.paddingLG;return(0,Zt.IX)(t,{notificationBg:t.colorBgElevated,notificationPaddingVertical:e,notificationPaddingHorizontal:n,notificationIconSize:t.calc(t.fontSizeLG).mul(t.lineHeightLG).equal(),notificationCloseButtonSize:t.calc(t.controlHeightLG).mul(.55).equal(),notificationMarginBottom:t.margin,notificationPadding:`${(0,K.bf)(t.paddingMD)} ${(0,K.bf)(t.paddingContentHorizontalLG)}`,notificationMarginEdge:t.marginLG,animationMaxHeight:150,notificationStackLayer:3,notificationProgressHeight:2})};var Ye=(0,Ue.I$)("Notification",t=>{const e=Ke(t);return[zt(e),Bt(e),Gt(e)]},Je),Ht=(0,Ue.bk)(["Notification","PurePanel"],t=>{const e=`${t.componentCls}-notice`,n=Ke(t);return{[`${e}-pure-panel`]:q(g({},Xe(n)),{width:n.width,maxWidth:`calc(100vw - ${(0,K.bf)(t.calc(n.notificationMarginEdge).mul(2).equal())})`,margin:0})}},Je);const Sn={info:i.createElement(Ve.Z,null),success:i.createElement(ze.Z,null),error:i.createElement(He.Z,null),warning:i.createElement(je.Z,null),loading:i.createElement(At.Z,null)};function Ie(t,e){return e===null||e===!1?null:e||i.createElement(Oe.Z,{className:`${t}-close-icon`})}const Ot={success:ze.Z,info:Ve.Z,error:He.Z,warning:je.Z},qe=t=>{const{prefixCls:e,icon:n,type:a,title:c,description:s,actions:d,role:p="alert",styles:v,classNames:f}=t;let h=null;return n?h=i.createElement("span",{className:(0,Q.W)(`${e}-icon`,f.icon),style:v.icon},n):a&&(h=i.createElement(Ot[a]||null,{className:(0,Q.W)(`${e}-icon`,f.icon,`${e}-icon-${a}`),style:v.icon})),i.createElement("div",{className:(0,Q.W)({[`${e}-with-icon`]:h}),role:p},h,i.createElement("div",{className:(0,Q.W)(`${e}-title`,f.title),style:v.title},c),s&&i.createElement("div",{className:(0,Q.W)(`${e}-description`,f.description),style:v.description},s),d&&i.createElement("div",{className:(0,Q.W)(`${e}-actions`,f.actions),style:v.actions},d))};var Vt=t=>{const W=t,{prefixCls:e,icon:n,type:a,message:c,title:s,description:d,btn:p,actions:v,closeIcon:f,className:h,style:P,styles:S,classNames:B,closable:I}=W,w=Be(W,["prefixCls","icon","type","message","title","description","btn","actions","closeIcon","className","style","styles","classNames","closable"]),{getPrefixCls:Z,className:N,style:l,classNames:F,styles:E}=(0,se.dj)("notification"),[x,$]=(0,le.MW)([F,B],[E,S],{props:t}),{notification:R}=i.useContext(se.E_),j=v!=null?v:p,k=s!=null?s:c,y=e||Z("notification"),ne=`${y}-notice`,ce=(0,Qe.Z)(y),[ae,de]=Ye(y,ce),[he,b,,T]=(0,ue.bt)((0,ue.wz)(t),(0,ue.wz)(R),{closable:!0,closeIcon:i.createElement(Oe.Z,{className:`${y}-close-icon`}),closeIconRender:M=>Ie(y,M)}),L=he?g({onClose:I&&typeof I=="object"?I==null?void 0:I.onClose:void 0,closeIcon:b},T):!1;return i.createElement("div",{className:(0,Q.W)(`${ne}-pure-panel`,ae,h,de,ce,x.root),style:$.root},i.createElement(Ht,{prefixCls:y}),i.createElement(Ae.qX,q(g({style:g(g({},l),P)},w),{prefixCls:y,eventKey:"pure",duration:null,closable:L,className:(0,Q.W)(h,N),content:i.createElement(qe,{classNames:x,styles:$,prefixCls:ne,icon:n,type:a,title:k,description:d,actions:j})})))},Qt=o(60218),kt=o(30486);function Ut(t,e,n){let a;switch(t){case"top":a={left:"50%",transform:"translateX(-50%)",right:"auto",top:e,bottom:"auto"};break;case"topLeft":a={left:0,top:e,bottom:"auto"};break;case"topRight":a={right:0,top:e,bottom:"auto"};break;case"bottom":a={left:"50%",transform:"translateX(-50%)",right:"auto",top:"auto",bottom:n};break;case"bottomLeft":a={left:0,top:"auto",bottom:n};break;default:a={right:0,top:"auto",bottom:n};break}return a}function Xt(t){return{motionName:`${t}-fade`}}function Jt(t,e,n){return typeof t!="undefined"?t:typeof(e==null?void 0:e.closeIcon)!="undefined"?e.closeIcon:n==null?void 0:n.closeIcon}const _e=24,Kt=4.5,Yt="topRight",qt=({children:t,prefixCls:e})=>{const n=(0,Qe.Z)(e),[a,c]=Ye(e,n);return i.createElement(Ae.JB,{classNames:{list:(0,Q.W)(a,c,n)}},t)},_t=(t,{prefixCls:e,key:n})=>i.createElement(qt,{prefixCls:e,key:n},t),en=i.forwardRef((t,e)=>{const{top:n,bottom:a,prefixCls:c,getContainer:s,maxCount:d,rtl:p,onAllRemoved:v,stack:f,duration:h=Kt,pauseOnHover:P=!0,showProgress:S}=t,{getPrefixCls:B,getPopupContainer:I,direction:w}=(0,se.dj)("notification"),{notification:Z}=(0,i.useContext)(se.E_),[,N]=(0,kt.ZP)(),l=c||B("notification"),F=(0,i.useMemo)(()=>typeof h=="number"&&h>0?h:!1,[h]),E=ne=>Ut(ne,n!=null?n:_e,a!=null?a:_e),x=()=>(0,Q.W)({[`${l}-rtl`]:p!=null?p:w==="rtl"}),$=()=>Xt(l),[R,j]=(0,Ae.lm)({prefixCls:l,style:E,className:x,motion:$,closable:{closeIcon:Ie(l)},duration:F,getContainer:()=>(s==null?void 0:s())||(I==null?void 0:I())||document.body,maxCount:d,pauseOnHover:P,showProgress:S,onAllRemoved:v,renderNotifications:_t,stack:f===!1?!1:{threshold:typeof f=="object"?f==null?void 0:f.threshold:void 0,offset:8,gap:N.margin}}),[k,y]=(0,le.MW)([Z==null?void 0:Z.classNames,t==null?void 0:t.classNames],[Z==null?void 0:Z.styles,t==null?void 0:t.styles],{props:t});return i.useImperativeHandle(e,()=>q(g({},R),{prefixCls:l,notification:Z,classNames:k,styles:y})),j});function et(t){const e=i.useRef(null),n=(0,Qt.ln)("Notification"),{notification:a}=i.useContext(se.E_);return[i.useMemo(()=>{const s=f=>{var Ce;if(!e.current)return;const{open:h,prefixCls:P,notification:S,classNames:B,styles:I}=e.current,w=(S==null?void 0:S.className)||{},Z=(S==null?void 0:S.style)||{},N=`${P}-notice`,re=f,{title:l,message:F,description:E,icon:x,type:$,btn:R,actions:j,className:k,style:y,role:ne="alert",closeIcon:ce,closable:ae,classNames:de={},styles:he={}}=re,b=Be(re,["title","message","description","icon","type","btn","actions","className","style","role","closeIcon","closable","classNames","styles"]),T=l!=null?l:F,L=j!=null?j:R,W=Ie(N,Jt(ce,t,S)),[M,fe,,U]=(0,ue.nB)((0,ue.wz)(g(g({},t||{}),f)),(0,ue.wz)(a),{closable:!0,closeIcon:W}),C=M?g({onClose:ae&&typeof ae=="object"?ae.onClose:void 0,closeIcon:fe},U):!1,ee=(0,le.jK)(de,{props:f}),oe=(0,le.jK)(he,{props:f}),X=(0,le.Ez)(void 0,B,ee),ve=(0,le.y0)(I,oe);return h(q(g({placement:(Ce=t==null?void 0:t.placement)!=null?Ce:Yt},b),{content:i.createElement(qe,{prefixCls:N,icon:x,type:$,title:T,description:E,actions:L,role:ne,classNames:X,styles:ve}),className:(0,Q.W)({[`${N}-${$}`]:$},k,w,X.root),style:g(g(g({},Z),ve.root),y),closable:C}))},p={open:s,destroy:f=>{var h,P;f!==void 0?(h=e.current)==null||h.close(f):(P=e.current)==null||P.destroy()}};return["success","info","warning","error"].forEach(f=>{p[f]=h=>s(q(g({},h),{type:f}))}),p},[t,a]),i.createElement(en,q(g({key:"notification-holder"},t),{ref:e}))]}function tn(t){return et(t)}let G=null,Fe=t=>t(),xe=[],ge={};function tt(){const{getContainer:t,rtl:e,maxCount:n,top:a,bottom:c,showProgress:s,pauseOnHover:d}=ge,p=(t==null?void 0:t())||document.body;return{getContainer:()=>p,rtl:e,maxCount:n,top:a,bottom:c,showProgress:s,pauseOnHover:d}}const nn=i.forwardRef((t,e)=>{const{notificationConfig:n,sync:a}=t,{getPrefixCls:c}=(0,i.useContext)(se.E_),s=ge.prefixCls||c("notification"),d=(0,i.useContext)(Dt.J),[p,v]=et(g(q(g({},n),{prefixCls:s}),d.notification));return i.useEffect(a,[]),i.useImperativeHandle(e,()=>{const f=g({},p);return Object.keys(f).forEach(h=>{f[h]=(...P)=>(a(),p[h].apply(p,P))}),{instance:f,sync:a}}),v}),on=i.forwardRef((t,e)=>{const[n,a]=i.useState(tt),c=()=>{a(tt)};i.useEffect(c,[]);const s=(0,De.w6)(),d=s.getRootPrefixCls(),p=s.getIconPrefixCls(),v=s.getTheme(),f=i.createElement(nn,{ref:e,sync:c,notificationConfig:n});return i.createElement(De.ZP,{prefixCls:d,iconPrefixCls:p,theme:v},s.holderRender?s.holderRender(f):f)}),Ze=()=>{if(!G){const t=document.createDocumentFragment(),e={fragment:t};G=e,Fe(()=>{(0,jt.s)(i.createElement(on,{ref:n=>{const{instance:a,sync:c}=n||{};Promise.resolve().then(()=>{!e.instance&&a&&(e.instance=a,e.sync=c,Ze())})}}),t)});return}G.instance&&(xe.forEach(t=>{switch(t.type){case"open":{Fe(()=>{G.instance.open(g(g({},ge),t.config))});break}case"destroy":Fe(()=>{var e;(e=G==null?void 0:G.instance)==null||e.destroy(t.key)});break}}),xe=[])};function an(t){ge=g(g({},ge),t),Fe(()=>{var e;(e=G==null?void 0:G.sync)==null||e.call(G)})}function nt(t){const e=(0,De.w6)();xe.push({type:"open",config:t}),Ze()}const rn=t=>{xe.push({type:"destroy",key:t}),Ze()},sn=["success","info","warning","error"],ot={open:nt,destroy:rn,config:an,useNotification:tn,_InternalPanelDoNotUseOrYouWillBeFired:Vt};sn.forEach(t=>{ot[t]=e=>nt(q(g({},e),{type:t}))});const Nn=()=>{};let $n=null;const Tn=null;let jn=null;const Dn=null;var ln=ot,un=o(60672),be=o(55248),cn={trainPlayInfo:"trainPlayInfo___cZ8NU"},dn=Ge.Z.confirm,Y=null,fn=function(e){var n=(0,i.useState)(!0),a=O()(n,2),c=a[0],s=a[1],d=(0,i.useState)(!1),p=O()(d,2),v=p[0],f=p[1],h=(0,i.useState)("..."),P=O()(h,2),S=P[0],B=P[1],I=(0,i.useState)(!1),w=O()(I,2),Z=w[0],N=w[1],l=ln.useNotification(),F=O()(l,2),E=F[1],x=i.useRef(0),$=i.useRef(0),R=function(T){var L=T,W={Do:"Duo",Re:"Rui",Fa:"Fa",Sol:"Suo",La:"La",Si:"Xi",\u5347:"Sheng ",\u964D:"Jiang "};Object.entries(W).forEach(function(U){var C=O()(U,2),ee=C[0],oe=C[1],X=new RegExp(ee,"g");L=L.replace(X,oe)}),L=L.replace(/#/g," sharp").replace(/m($|7)/g," minor$1").replace(/maj/g," major ").replace(/sus/g," suspended ").replace(/\//g," over ").replace(/([A-G])(\d)/g,"$1 $2").trim();var M=new SpeechSynthesisUtterance(L),fe=e.ttsRate||1;M.rate=1/fe,window.speechSynthesis.speak(M)},j=i.useRef(e);j.current=e;var k=function(){var b=Me()(ye()().mark(function T(L,W){var M;return ye()().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:return Y!==null&&(M=[],j.current.toneType==="GuitarChords"&&(M=(0,pe.UV)(L)),M.length>0?Y.triggerAttackRelease(M,W/1e3):Y.triggerAttackRelease(L,W/1e3)),U.abrupt("return",new Promise(function(C){setTimeout(C,W)}));case 2:case"end":return U.stop()}},T)}));return function(L,W){return b.apply(this,arguments)}}(),y=i.useMemo(function(){var b=(e.toneDuration||0)+(e.toneWait||0)+(e.ttsWait||0)+(e.referenceNoteEnabled?(e.toneDuration||0)+(e.toneWait||0):0),T=0;return e.ttsEnable&&(T+=1e3,j.current.toneType!=="GuitarChords"&&(e.ttsSolfege&&(T+=(e.ttsSolfegeWait||0)+1e3),e.ttsNotation&&(T+=(e.ttsNotationWait||0)+1e3))),Math.max(b+T,500)},[e.toneDuration,e.toneWait,e.ttsWait,e.referenceNoteEnabled,e.ttsEnable,e.ttsSolfege,e.ttsSolfegeWait,e.ttsNotation,e.ttsNotationWait]);(0,i.useEffect)(function(){if(c||!e.open){Y!==null&&Y.triggerRelease(be.zO());return}var b=!1,T=null,L=null,W=function(){var fe=Me()(ye()().mark(function U(){var C,ee,oe,X,ve,re,Ce,Se;return ye()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(!b){u.next=2;break}return u.abrupt("return");case 2:if(C=j.current,ee=C.toneList.length,ee!==0){u.next=6;break}return u.abrupt("return");case 6:if(oe=0,C.random?oe=Math.floor(Math.random()*ee):oe=x.current,X=C.toneList[oe],B(X),N(!1),C.random){u.next=21;break}if(x.current++,!(x.current>=ee)){u.next=19;break}if(x.current=0,$.current++,!(Number(C.loopCount)>0&&$.current>=Number(C.loopCount))){u.next=19;break}return s(!0),u.abrupt("return");case 19:u.next=28;break;case 21:if(x.current++,!(x.current>=ee)){u.next=28;break}if(x.current=0,$.current++,!(Number(C.loopCount)>0&&$.current>=Number(C.loopCount))){u.next=28;break}return s(!0),u.abrupt("return");case 28:if(!(C.referenceNoteEnabled&&C.referenceNote)){u.next=37;break}if(!b){u.next=31;break}return u.abrupt("return");case 31:return u.next=33,k(C.referenceNote,C.toneDuration);case 33:if(!b){u.next=35;break}return u.abrupt("return");case 35:return u.next=37,new Promise(function(J){L=setTimeout(J,C.toneWait)});case 37:if(!b){u.next=39;break}return u.abrupt("return");case 39:return u.next=41,k(X,C.toneDuration);case 41:if(!b){u.next=43;break}return u.abrupt("return");case 43:if(C.ttsEnable||N(!0),!b){u.next=46;break}return u.abrupt("return");case 46:if(!C.ttsEnable){u.next=69;break}return u.next=49,new Promise(function(J){T=setTimeout(J,C.toneWait||200)});case 49:if(!b){u.next=51;break}return u.abrupt("return");case 51:if(N(!0),R(X),j.current.toneType!=="GuitarChords"){u.next=55;break}return u.abrupt("return");case 55:if(!C.ttsSolfege){u.next=62;break}return u.next=58,new Promise(function(J){T=setTimeout(J,C.ttsSolfegeWait||500)});case 58:if(!b){u.next=60;break}return u.abrupt("return");case 60:ve=(0,pe.jP)(X),re=ve.solfege,re&&(R(re),B(function(J){return"".concat(J," ").concat(re)}));case 62:if(!C.ttsNotation){u.next=69;break}return u.next=65,new Promise(function(J){T=setTimeout(J,C.ttsNotationWait||500)});case 65:if(!b){u.next=67;break}return u.abrupt("return");case 67:Ce=(0,pe.jP)(X),Se=Ce.number,Se&&(R(Se),B(function(J){return"".concat(J," ").concat(Se)}));case 69:case"end":return u.stop()}},U)}));return function(){return fe.apply(this,arguments)}}();W();var M=setInterval(W,y);return function(){b=!0,clearInterval(M),T&&clearTimeout(T),L&&clearTimeout(L),Y!==null&&Y.triggerRelease(be.zO())}},[c,e.open,y]),(0,i.useEffect)(function(){e.open&&(x.current=0,$.current=0,B("..."),N(!1),f(!1),Y||(Y=new be.v2(be.WV).toDestination()),(0,Te.pr)(e.instrumentName).then(function(b){Y=b}).catch(function(b){console.error("\u52A0\u8F7D\u97F3\u8272\u9519\u8BEF\uFF0C\u964D\u7EA7\u4F7F\u7528Synth",b)}),s(!1))},[e.open]);var ne=function(){s(!c)},ce=function(){s(!0),dn({title:"\u786E\u8BA4\u505C\u6B62",icon:(0,r.jsx)(je.Z,{}),content:"\u786E\u8BA4\u505C\u6B62\u8BAD\u7EC3\u5417\uFF1F",okText:"\u786E\u8BA4\u5173\u95ED",cancelText:"\u6211\u70B9\u9519\u4E86",onOk:function(){e.onCancel()},onCancel:function(){s(!1)}})},ae=(0,$t.u)(e.instrumentName),de=ae.status,he=function(){return de==="loading"?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{children:"\u5F53\u524D\u7684\u97F3\u662F"}),(0,r.jsx)("div",{className:"text-yellow-600 text-sm",children:"\u97F3\u8272\u52A0\u8F7D\u4E2D, \u6682\u65F6\u4F7F\u7528MIDI\u97F3..."})]}):de==="error"?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{children:"\u5F53\u524D\u7684\u97F3\u662F"}),(0,r.jsx)("div",{className:"text-red-600 text-sm",children:"\u97F3\u8272\u52A0\u8F7D\u5931\u8D25, \u4F7F\u7528MIDI\u97F3"})]}):"\u5F53\u524D\u7684\u97F3\u662F"};return(0,r.jsxs)(r.Fragment,{children:[E,(0,r.jsx)(Ge.Z,{open:e.open,destroyOnHidden:!0,width:"80%",height:"80%",maskClosable:!1,okText:c?"\u6062\u590D\u8BAD\u7EC3":"\u6682\u505C\u8BAD\u7EC3",onOk:ne,cancelText:"\u505C\u6B62\u8BAD\u7EC3",onCancel:ce,loading:v,title:v?"\u52A0\u8F7D\u97F3\u8272\u4E2D":"\u8BAD\u7EC3",children:(0,r.jsx)(un.ZP,{className:cn.trainPlayInfo,title:he(),subTitle:(0,r.jsx)("div",{className:"text-2xl sm:text-4xl flex items-center justify-center gap-2",children:Z?S:"?"}),icon:Z&&pe.YD[S]?(0,r.jsx)("div",{className:"flex justify-center",children:(0,r.jsx)(Nt.Z,{name:S,fingering:pe.YD[S],width:100,height:140})}):(0,r.jsx)("div",{className:"flex items-center justify-center h-[140px]",children:(0,r.jsx)(Tt.Z,{className:"text-6xl text-blue-400 animate-pulse"})})})})]})},mn=fn,at=o(88489),pn=o(5318),gn=o(21004),hn=function(){var e=(0,i.useState)(m.sO),n=O()(e,2),a=n[0],c=n[1],s=(0,i.useState)(!1),d=O()(s,2),p=d[0],v=d[1],f=V.A.useForm(),h=O()(f,1),P=h[0],S=V.A.useWatch("instrumentName",P)||m.OG;(0,i.useEffect)(function(){(0,Te.pr)(S).catch(console.error)},[S]);var B=function(l,F){if(console.log("flattenGroupedTones input:",{groups:l,toneType:F}),F==="GuitarChords"){var E=l.chords||[];return console.log("Returning chords:",E),E}var x=Object.entries(l||{}).filter(function($){var R=O()($,1),j=R[0];return!isNaN(Number(j))}).map(function($){var R=O()($,2),j=R[1];return j}).flat().filter(Boolean);return console.log("Returning scales:",x),x},I=function(l){var F={};return F.chords=l.filter(function(E){return m.sw.includes(E)}),m.Dz.forEach(function(E){F[E]=l.filter(function(x){return x.endsWith(String(E))&&!m.sw.includes(x)})}),F};(0,i.useEffect)(function(){var N=(0,at.Tp)(m.F6,null);if(N)try{var l=N;l.toneList&&!l.toneListGroup&&(l.toneListGroup=I(l.toneList));var F=l.loopCountType||String(l.loopCount||0),E=l.loopCountCustom||l.loopCount||10;P.setFieldsValue(H()(H()({},l),{},{loopCountType:F,loopCountCustom:F==="custom"?E:10})),l.instrumentName&&(0,Te.pr)(l.instrumentName).catch(console.error),c(H()(H()(H()({},m.sO),l),{},{loopCount:F==="custom"?E:parseInt(F,10),toneList:B(l.toneListGroup,l.toneType||m.W4)}))}catch(x){console.error("Failed to load settings",x)}},[P]);var w=function(l,F){(0,at.pd)(m.F6,F,"\u542C\u97F3\u8BAD\u7EC3\u914D\u7F6E")},Z=function(l){var F=B(l.toneListGroup,l.toneType),E=l.loopCountType==="custom"?l.loopCountCustom:parseInt(l.loopCountType,10),x=H()(H()(H()({},m.sO),l),{},{toneList:F,loopCount:isNaN(E)?0:E});c(x),v(!0)};return(0,r.jsxs)(pn._z,{header:{title:"\u542C\u97F3\u8BAD\u7EC3"},children:[(0,r.jsxs)(V.A,{form:P,size:"large",initialValues:H()(H()({},m.sO),{},{loopCountType:String(m.sO.loopCount),loopCountCustom:10,toneListGroup:I(m.sO.toneList)}),onValuesChange:w,onFinish:Z,layout:"horizontal",submitter:{searchConfig:{resetText:"\u91CD\u7F6E",submitText:"\u5F00\u59CB\u8BAD\u7EC3"},render:function(l,F){return(0,r.jsx)(gn.S,{children:F})}},children:[(0,r.jsx)(ut.Z,{}),(0,r.jsx)(xt,{}),(0,r.jsx)(St,{})]}),(0,r.jsx)(mn,H()({open:p,onCancel:function(){return v(!1)}},a))]})},vn=hn}}]);
}());