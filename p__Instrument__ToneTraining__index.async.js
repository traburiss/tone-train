!(function(){"use strict";var ln=Object.defineProperty,cn=Object.defineProperties;var un=Object.getOwnPropertyDescriptors;var xe=Object.getOwnPropertySymbols;var et=Object.prototype.hasOwnProperty,tt=Object.prototype.propertyIsEnumerable;var _e=(T,D,o)=>D in T?ln(T,D,{enumerable:!0,configurable:!0,writable:!0,value:o}):T[D]=o,g=(T,D)=>{for(var o in D||(D={}))et.call(D,o)&&_e(T,o,D[o]);if(xe)for(var o of xe(D))tt.call(D,o)&&_e(T,o,D[o]);return T},Y=(T,D)=>cn(T,un(D));var Te=(T,D)=>{var o={};for(var z in T)et.call(T,z)&&D.indexOf(z)<0&&(o[z]=T[z]);if(T!=null&&xe)for(var z of xe(T))D.indexOf(z)<0&&tt.call(T,z)&&(o[z]=T[z]);return o};(self.webpackChunk=self.webpackChunk||[]).push([[602],{96607:function(T,D,o){o.r(D),o.d(D,{default:function(){return sn}});var z=o(26068),H=o.n(z),nt=o(48305),J=o.n(nt),ot=o(93043),m=o(89504),O=o(40624),De=o(24486),_=o(97375),at=o(1501),ue=o(59942),Ae=o(28322),i=o(75271),Ie=o(84773),r=o(52676),rt=["fieldProps","unCheckedChildren","checkedChildren","proFieldProps"],it=i.forwardRef(function(t,e){var n=t.fieldProps,a=t.unCheckedChildren,u=t.checkedChildren,l=t.proFieldProps,d=(0,Ae.Z)(t,rt);return(0,r.jsx)(Ie.Z,(0,ue.Z)({valueType:"switch",fieldProps:(0,ue.Z)({unCheckedChildren:a,checkedChildren:u},n),ref:e,valuePropName:"checked",proFieldProps:l,filedConfig:{valuePropName:"checked",ignoreWidth:!0,customLightMode:!0}},d))}),de=it,st=o(31770),je=o(45803),lt=function(){return(0,r.jsxs)(je.Z,{title:"\u57FA\u7840\u914D\u7F6E",className:"mb-3 sm:mb-6",children:[(0,r.jsx)(O.A.Group,{children:(0,r.jsx)(De.Z.Group,{name:"instrumentName",label:"\u97F3\u8272\u9009\u62E9",tooltip:"\u7528\u6237\u53EF\u4EE5\u9009\u62E9\u81EA\u5DF1\u4E60\u60EF\u7684\u97F3\u8272\u6765\u542C\u97F3\u540D\u64AD\u653E",radioType:"button",fieldProps:{buttonStyle:"solid",size:"small"},options:m.qL})}),(0,r.jsxs)(O.A.Group,{children:[(0,r.jsx)(De.Z.Group,{name:"loopCountType",label:"\u5FAA\u73AF\u6B21\u6570",tooltip:"\u7528\u6237\u53EF\u4EE5\u9009\u62E9\u5FAA\u73AF\u6B21\u6570\uFF0C\u6216\u8005\u81EA\u5B9A\u4E49\u5FAA\u73AF\u6B21\u6570",radioType:"button",fieldProps:{buttonStyle:"solid",size:"small"},options:m.qx}),(0,r.jsx)(_.Z,{name:["loopCountType"],children:function(n){var a=n.loopCountType;return a==="custom"&&(0,r.jsx)(at.Z,{name:"loopCountCustom",label:" ",width:"xs",placeholder:"\u6B21\u6570",min:1,max:1e3,fieldProps:{precision:0}})}})]}),(0,r.jsx)(O.A.Group,{children:(0,r.jsx)(de,{name:"random",label:"\u968F\u673A\u64AD\u653E",tooltip:"\u4E0D\u8981\u6309\u7167\u97F3\u9636\u987A\u5E8F\u64AD\u653E\u97F3\u9636"})}),(0,r.jsxs)(O.A.Group,{children:[(0,r.jsx)(de,{name:"referenceNoteEnabled",label:"\u64AD\u653E\u57FA\u51C6",tooltip:"\u64AD\u653E\u97F3\u9636\u65F6\uFF0C\u4F1A\u5148\u64AD\u653E\u57FA\u51C6\u97F3\uFF0C\u518D\u64AD\u653E\u97F3\u9636\uFF0C\u4EE5\u964D\u4F4E\u96BE\u5EA6"}),(0,r.jsx)(_.Z,{name:["referenceNoteEnabled"],children:function(n){var a=n.referenceNoteEnabled;return a&&(0,r.jsx)(st.Z,{name:"referenceNote",label:" ",width:"xs",options:m.cS,placeholder:"\u9009\u62E9\u57FA\u51C6\u97F3"})}})]})]})},ct=lt,ut=["fieldProps","proFieldProps","min","max","step","marks","vertical","range"],dt=i.forwardRef(function(t,e){var n=t.fieldProps,a=t.proFieldProps,u=t.min,l=t.max,d=t.step,p=t.marks,C=t.vertical,f=t.range,h=(0,Ae.Z)(t,ut);return(0,r.jsx)(Ie.Z,(0,ue.Z)({valueType:"slider",fieldProps:(0,ue.Z)((0,ue.Z)({},n),{},{min:u,max:l,step:d,marks:p,vertical:C,range:f,style:n==null?void 0:n.style}),ref:e,proFieldProps:a,filedConfig:{ignoreWidth:!0}},h))}),oe=dt,ft=function(){return(0,r.jsxs)(je.Z,{title:"\u64AD\u653E\u914D\u7F6E",className:"mb-3 sm:mb-6",children:[(0,r.jsxs)(O.A.Group,{title:"\u65F6\u95F4\u8BBE\u7F6E",children:[(0,r.jsx)(oe,{name:"toneDuration",label:"\u97F3\u9636\u65F6\u957F",width:"md",min:m.Qx,max:m.Zf,step:m.LB,fieldProps:{tooltip:{formatter:m.QZ}}}),(0,r.jsx)(oe,{name:"toneWait",label:"\u97F3\u9636\u64AD\u540E\u7B49\u5F85",width:"md",min:m.Qx,max:m.Zf,step:m.LB,fieldProps:{tooltip:{formatter:m.QZ}}})]}),(0,r.jsxs)(O.A.Group,{title:"\u97F3\u540D\u64AD\u62A5\u8BBE\u7F6E",children:[(0,r.jsx)(de,{name:"ttsEnable",label:"\u8BED\u97F3\u62A5\u97F3\u540D",tooltip:"\u6BCF\u6B21\u7ED3\u675F\u540E\u64AD\u62A5\u97F3\u540D"}),(0,r.jsx)(_.Z,{name:["ttsEnable"],children:function(n){var a=n.ttsEnable;return a&&(0,r.jsx)(oe,{name:"ttsRate",label:"\u62A5\u97F3\u9636\u8BED\u901F",tooltip:"\u500D\u6570\u8D8A\u5927\u8D8A\u6162",width:"md",min:.5,max:4,step:.1,fieldProps:{tooltip:{formatter:function(l){return"".concat(l,"x \u65F6\u957F")}}}})}}),(0,r.jsx)(_.Z,{name:["ttsEnable"],children:function(n){var a=n.ttsEnable;return a&&(0,r.jsx)(oe,{name:"ttsWait",label:"\u62A5\u97F3\u540D\u540E\u7B49\u5F85",width:"md",min:m.Qx,max:m.Zf,step:m.LB,fieldProps:{tooltip:{formatter:m.QZ}}})}})]}),(0,r.jsx)(_.Z,{name:["ttsEnable"],children:function(n){var a=n.ttsEnable;return a&&(0,r.jsxs)(O.A.Group,{children:[(0,r.jsx)(de,{name:"ttsSolfege",label:"\u989D\u5916\u62A5\u5531\u540D",tooltip:"\u62A5\u5B8C\u97F3\u540D\u540E\uFF0C\u8FFD\u52A0\u5531\u540D\uFF08\u5982\uFF1ADo\uFF09"}),(0,r.jsx)(_.Z,{name:["ttsSolfege"],children:function(l){var d=l.ttsSolfege;return d&&(0,r.jsx)(oe,{name:"ttsSolfegeWait",label:"\u5531\u540D\u95F4\u9694",width:"sm",min:m.Qx,max:m.Zf,step:m.LB,fieldProps:{tooltip:{formatter:m.QZ}}})}})]})}}),(0,r.jsx)(_.Z,{name:["ttsEnable"],children:function(n){var a=n.ttsEnable;return a&&(0,r.jsxs)(O.A.Group,{children:[(0,r.jsx)(de,{name:"ttsNotation",label:"\u989D\u5916\u62A5\u7B80\u8C31",tooltip:"\u62A5\u5B8C\u97F3\u540D\u540E\uFF0C\u8FFD\u52A0\u7B80\u8C31\u8BB0\u53F7\uFF08\u5982\uFF1A1\uFF09"}),(0,r.jsx)(_.Z,{name:["ttsNotation"],children:function(l){var d=l.ttsNotation;return d&&(0,r.jsx)(oe,{name:"ttsNotationWait",label:"\u7B80\u8C31\u95F4\u9694",width:"sm",min:m.Qx,max:m.Zf,step:m.LB,fieldProps:{tooltip:{formatter:m.QZ}}})}})]})}})]})},mt=ft,gt=o(90228),ge=o.n(gt),pt=o(87999),Be=o.n(pt),ht=o(26007),vt=o(92439),fe=o(32401),be=o(39420),Fe=o(53419),Ct=o(99430),Ze=o(1073),yt=o(24106),xt=o(30371),ae=o(85419),Ee=o(44241),We=o(95977),Le=o(6640),Re=o(9281),Me=o(49735),bt=o(80743),Se=o(64933),k=o(4814),re=o(62114),ie=o(8201),we=o(95314),V=o(49933),Ft=o(15690),Ge=o(15218),Et=o(53925),ze=o(32748),St=t=>{const{componentCls:e,notificationMarginEdge:n,animationMaxHeight:a}=t,u=`${e}-notice`,l=new V.E4("antNotificationFadeIn",{"0%":{transform:"translate3d(100%, 0, 0)",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",opacity:1}}),d=new V.E4("antNotificationTopFadeIn",{"0%":{top:-a,opacity:0},"100%":{top:0,opacity:1}}),p=new V.E4("antNotificationBottomFadeIn",{"0%":{bottom:t.calc(a).mul(-1).equal(),opacity:0},"100%":{bottom:0,opacity:1}}),C=new V.E4("antNotificationLeftFadeIn",{"0%":{transform:"translate3d(-100%, 0, 0)",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",opacity:1}});return{[e]:{[`&${e}-top, &${e}-bottom`]:{marginInline:0,[u]:{marginInline:"auto auto"}},[`&${e}-top`]:{[`${e}-fade-enter${e}-fade-enter-active, ${e}-fade-appear${e}-fade-appear-active`]:{animationName:d}},[`&${e}-bottom`]:{[`${e}-fade-enter${e}-fade-enter-active, ${e}-fade-appear${e}-fade-appear-active`]:{animationName:p}},[`&${e}-topRight, &${e}-bottomRight`]:{[`${e}-fade-enter${e}-fade-enter-active, ${e}-fade-appear${e}-fade-appear-active`]:{animationName:l}},[`&${e}-topLeft, &${e}-bottomLeft`]:{marginRight:{value:0,_skip_check_:!0},marginLeft:{value:n,_skip_check_:!0},[u]:{marginInlineEnd:"auto",marginInlineStart:0},[`${e}-fade-enter${e}-fade-enter-active, ${e}-fade-appear${e}-fade-appear-active`]:{animationName:C}}}}};const Nt=["top","topLeft","topRight","bottom","bottomLeft","bottomRight"],Pt={topLeft:"left",topRight:"right",bottomLeft:"left",bottomRight:"right",top:"left",bottom:"left"},$t=(t,e)=>{const{componentCls:n}=t;return{[`${n}-${e}`]:{[`&${n}-stack > ${n}-notice-wrapper`]:{[e.startsWith("top")?"top":"bottom"]:0,[Pt[e]]:{value:0,_skip_check_:!0}}}}},Tt=t=>{const e={};for(let n=1;n<t.notificationStackLayer;n++)e[`&:nth-last-child(${n+1})`]={overflow:"hidden",[`& > ${t.componentCls}-notice`]:{opacity:0,transition:`opacity ${t.motionDurationMid}`}};return g({[`&:not(:nth-last-child(-n+${t.notificationStackLayer}))`]:{opacity:0,overflow:"hidden",color:"transparent",pointerEvents:"none"}},e)},Dt=t=>{const e={};for(let n=1;n<t.notificationStackLayer;n++)e[`&:nth-last-child(${n+1})`]={background:t.colorBgBlur,backdropFilter:"blur(10px)","-webkit-backdrop-filter":"blur(10px)"};return g({},e)};var At=t=>{const{componentCls:e}=t;return g({[`${e}-stack`]:{[`& > ${e}-notice-wrapper`]:g({transition:`transform ${t.motionDurationSlow}, backdrop-filter 0s`,willChange:"transform, opacity",position:"absolute"},Tt(t))},[`${e}-stack:not(${e}-stack-expanded)`]:{[`& > ${e}-notice-wrapper`]:g({},Dt(t))},[`${e}-stack${e}-stack-expanded`]:{[`& > ${e}-notice-wrapper`]:{"&:not(:nth-last-child(-n + 1))":{opacity:1,overflow:"unset",color:"inherit",pointerEvents:"auto",[`& > ${t.componentCls}-notice`]:{opacity:1}},"&:after":{content:'""',position:"absolute",height:t.margin,width:"100%",insetInline:0,bottom:t.calc(t.margin).mul(-1).equal(),background:"transparent",pointerEvents:"auto"}}}},Nt.map(n=>$t(t,n)).reduce((n,a)=>g(g({},n),a),{}))};const He=t=>{const{iconCls:e,componentCls:n,boxShadow:a,fontSizeLG:u,notificationMarginBottom:l,borderRadiusLG:d,colorSuccess:p,colorInfo:C,colorWarning:f,colorError:h,colorTextHeading:$,notificationBg:N,notificationPadding:Z,notificationMarginEdge:A,progressBg:G,notificationProgressHeight:j,fontSize:y,lineHeight:s,width:v,notificationIconSize:F,colorText:P,colorSuccessBg:I,colorErrorBg:W,colorInfoBg:B,colorWarningBg:X}=t,x=`${n}-notice`;return{position:"relative",marginBottom:l,marginInlineStart:"auto",background:N,borderRadius:d,boxShadow:a,[x]:{padding:Z,width:v,maxWidth:`calc(100vw - ${(0,V.bf)(t.calc(A).mul(2).equal())})`,lineHeight:s,wordWrap:"break-word",borderRadius:d,overflow:"hidden","&-success":I?{background:I}:{},"&-error":W?{background:W}:{},"&-info":B?{background:B}:{},"&-warning":X?{background:X}:{}},[`${x}-title`]:{marginBottom:t.marginXS,color:$,fontSize:u,lineHeight:t.lineHeightLG},[`${x}-description`]:{fontSize:y,color:P,marginTop:t.marginXS},[`${x}-closable ${x}-title`]:{paddingInlineEnd:t.paddingLG},[`${x}-with-icon ${x}-title`]:{marginBottom:t.marginXS,marginInlineStart:t.calc(t.marginSM).add(F).equal(),fontSize:u},[`${x}-with-icon ${x}-description`]:{marginInlineStart:t.calc(t.marginSM).add(F).equal(),fontSize:y},[`${x}-icon`]:{position:"absolute",fontSize:F,lineHeight:1,[`&-success${e}`]:{color:p},[`&-info${e}`]:{color:C},[`&-warning${e}`]:{color:f},[`&-error${e}`]:{color:h}},[`${x}-close`]:g({position:"absolute",top:t.notificationPaddingVertical,insetInlineEnd:t.notificationPaddingHorizontal,color:t.colorIcon,outline:"none",width:t.notificationCloseButtonSize,height:t.notificationCloseButtonSize,borderRadius:t.borderRadiusSM,transition:`background-color ${t.motionDurationMid}, color ${t.motionDurationMid}`,display:"flex",alignItems:"center",justifyContent:"center",background:"none",border:"none","&:hover":{color:t.colorIconHover,backgroundColor:t.colorBgTextHover},"&:active":{backgroundColor:t.colorBgTextActive}},(0,Ge.Qy)(t)),[`${x}-progress`]:{position:"absolute",display:"block",appearance:"none",inlineSize:`calc(100% - ${(0,V.bf)(d)} * 2)`,left:{_skip_check_:!0,value:d},right:{_skip_check_:!0,value:d},bottom:0,blockSize:j,border:0,"&, &::-webkit-progress-bar":{borderRadius:d,backgroundColor:"rgba(0, 0, 0, 0.04)"},"&::-moz-progress-bar":{background:G},"&::-webkit-progress-value":{borderRadius:d,background:G}},[`${x}-actions`]:{float:"right",marginTop:t.marginSM}}},It=t=>{const{componentCls:e,notificationMarginBottom:n,notificationMarginEdge:a,motionDurationMid:u,motionEaseInOut:l}=t,d=`${e}-notice`,p=new V.E4("antNotificationFadeOut",{"0%":{maxHeight:t.animationMaxHeight,marginBottom:n},"100%":{maxHeight:0,marginBottom:0,paddingTop:0,paddingBottom:0,opacity:0}});return[{[e]:Y(g({},(0,Ge.Wf)(t)),{position:"fixed",zIndex:t.zIndexPopup,marginRight:{value:a,_skip_check_:!0},[`${e}-hook-holder`]:{position:"relative"},[`${e}-fade-appear-prepare`]:{opacity:"0 !important"},[`${e}-fade-enter, ${e}-fade-appear`]:{animationDuration:t.motionDurationMid,animationTimingFunction:l,animationFillMode:"both",opacity:0,animationPlayState:"paused"},[`${e}-fade-leave`]:{animationTimingFunction:l,animationFillMode:"both",animationDuration:u,animationPlayState:"paused"},[`${e}-fade-enter${e}-fade-enter-active, ${e}-fade-appear${e}-fade-appear-active`]:{animationPlayState:"running"},[`${e}-fade-leave${e}-fade-leave-active`]:{animationName:p,animationPlayState:"running"},"&-rtl":{direction:"rtl",[`${d}-actions`]:{float:"left"}}})},{[e]:{[`${d}-wrapper`]:He(t)}}]},Oe=t=>({zIndexPopup:t.zIndexPopupBase+Ft.u6+50,width:384,progressBg:`linear-gradient(90deg, ${t.colorPrimaryBorderHover}, ${t.colorPrimary})`,colorSuccessBg:void 0,colorErrorBg:void 0,colorInfoBg:void 0,colorWarningBg:void 0}),ke=t=>{const e=t.paddingMD,n=t.paddingLG;return(0,Et.IX)(t,{notificationBg:t.colorBgElevated,notificationPaddingVertical:e,notificationPaddingHorizontal:n,notificationIconSize:t.calc(t.fontSizeLG).mul(t.lineHeightLG).equal(),notificationCloseButtonSize:t.calc(t.controlHeightLG).mul(.55).equal(),notificationMarginBottom:t.margin,notificationPadding:`${(0,V.bf)(t.paddingMD)} ${(0,V.bf)(t.paddingContentHorizontalLG)}`,notificationMarginEdge:t.marginLG,animationMaxHeight:150,notificationStackLayer:3,notificationProgressHeight:2})};var Qe=(0,ze.I$)("Notification",t=>{const e=ke(t);return[It(e),St(e),At(e)]},Oe),jt=(0,ze.bk)(["Notification","PurePanel"],t=>{const e=`${t.componentCls}-notice`,n=ke(t);return{[`${e}-pure-panel`]:Y(g({},He(n)),{width:n.width,maxWidth:`calc(100vw - ${(0,V.bf)(t.calc(n.notificationMarginEdge).mul(2).equal())})`,margin:0})}},Oe);const mn={info:i.createElement(Me.Z,null),success:i.createElement(We.Z,null),error:i.createElement(Le.Z,null),warning:i.createElement(Fe.Z,null),loading:i.createElement(bt.Z,null)};function Ne(t,e){return e===null||e===!1?null:e||i.createElement(Re.Z,{className:`${t}-close-icon`})}const Bt={success:We.Z,info:Me.Z,error:Le.Z,warning:Fe.Z},Ve=t=>{const{prefixCls:e,icon:n,type:a,title:u,description:l,actions:d,role:p="alert",styles:C,classNames:f}=t;let h=null;return n?h=i.createElement("span",{className:(0,k.W)(`${e}-icon`,f.icon),style:C.icon},n):a&&(h=i.createElement(Bt[a]||null,{className:(0,k.W)(`${e}-icon`,f.icon,`${e}-icon-${a}`),style:C.icon})),i.createElement("div",{className:(0,k.W)({[`${e}-with-icon`]:h}),role:p},h,i.createElement("div",{className:(0,k.W)(`${e}-title`,f.title),style:C.title},u),l&&i.createElement("div",{className:(0,k.W)(`${e}-description`,f.description),style:C.description},l),d&&i.createElement("div",{className:(0,k.W)(`${e}-actions`,f.actions),style:C.actions},d))};var Zt=t=>{const b=t,{prefixCls:e,icon:n,type:a,message:u,title:l,description:d,btn:p,actions:C,closeIcon:f,className:h,style:$,styles:N,classNames:Z,closable:A}=b,G=Te(b,["prefixCls","icon","type","message","title","description","btn","actions","closeIcon","className","style","styles","classNames","closable"]),{getPrefixCls:j,className:y,style:s,classNames:v,styles:F}=(0,ae.dj)("notification"),[P,I]=(0,re.MW)([v,Z],[F,N],{props:t}),{notification:W}=i.useContext(ae.E_),B=C!=null?C:p,X=l!=null?l:u,x=e||j("notification"),ee=`${x}-notice`,E=(0,we.Z)(x),[S,L]=Qe(x,E),[M,K,,se]=(0,ie.bt)((0,ie.wz)(t),(0,ie.wz)(W),{closable:!0,closeIcon:i.createElement(Re.Z,{className:`${x}-close-icon`}),closeIconRender:q=>Ne(x,q)}),Q=M?g({onClose:A&&typeof A=="object"?A==null?void 0:A.onClose:void 0,closeIcon:K},se):!1;return i.createElement("div",{className:(0,k.W)(`${ee}-pure-panel`,S,h,L,E,P.root),style:I.root},i.createElement(jt,{prefixCls:x}),i.createElement(Se.qX,Y(g({style:g(g({},s),$)},G),{prefixCls:x,eventKey:"pure",duration:null,closable:Q,className:(0,k.W)(h,y),content:i.createElement(Ve,{classNames:P,styles:I,prefixCls:ee,icon:n,type:a,title:X,description:d,actions:B})})))},Wt=o(60218),Lt=o(30486);function Rt(t,e,n){let a;switch(t){case"top":a={left:"50%",transform:"translateX(-50%)",right:"auto",top:e,bottom:"auto"};break;case"topLeft":a={left:0,top:e,bottom:"auto"};break;case"topRight":a={right:0,top:e,bottom:"auto"};break;case"bottom":a={left:"50%",transform:"translateX(-50%)",right:"auto",top:"auto",bottom:n};break;case"bottomLeft":a={left:0,top:"auto",bottom:n};break;default:a={right:0,top:"auto",bottom:n};break}return a}function Mt(t){return{motionName:`${t}-fade`}}function wt(t,e,n){return typeof t!="undefined"?t:typeof(e==null?void 0:e.closeIcon)!="undefined"?e.closeIcon:n==null?void 0:n.closeIcon}const Ue=24,Gt=4.5,zt="topRight",Ht=({children:t,prefixCls:e})=>{const n=(0,we.Z)(e),[a,u]=Qe(e,n);return i.createElement(Se.JB,{classNames:{list:(0,k.W)(a,u,n)}},t)},Ot=(t,{prefixCls:e,key:n})=>i.createElement(Ht,{prefixCls:e,key:n},t),kt=i.forwardRef((t,e)=>{const{top:n,bottom:a,prefixCls:u,getContainer:l,maxCount:d,rtl:p,onAllRemoved:C,stack:f,duration:h=Gt,pauseOnHover:$=!0,showProgress:N}=t,{getPrefixCls:Z,getPopupContainer:A,direction:G}=(0,ae.dj)("notification"),{notification:j}=(0,i.useContext)(ae.E_),[,y]=(0,Lt.ZP)(),s=u||Z("notification"),v=(0,i.useMemo)(()=>typeof h=="number"&&h>0?h:!1,[h]),F=ee=>Rt(ee,n!=null?n:Ue,a!=null?a:Ue),P=()=>(0,k.W)({[`${s}-rtl`]:p!=null?p:G==="rtl"}),I=()=>Mt(s),[W,B]=(0,Se.lm)({prefixCls:s,style:F,className:P,motion:I,closable:{closeIcon:Ne(s)},duration:v,getContainer:()=>(l==null?void 0:l())||(A==null?void 0:A())||document.body,maxCount:d,pauseOnHover:$,showProgress:N,onAllRemoved:C,renderNotifications:Ot,stack:f===!1?!1:{threshold:typeof f=="object"?f==null?void 0:f.threshold:void 0,offset:8,gap:y.margin}}),[X,x]=(0,re.MW)([j==null?void 0:j.classNames,t==null?void 0:t.classNames],[j==null?void 0:j.styles,t==null?void 0:t.styles],{props:t});return i.useImperativeHandle(e,()=>Y(g({},W),{prefixCls:s,notification:j,classNames:X,styles:x})),B});function Xe(t){const e=i.useRef(null),n=(0,Wt.ln)("Notification"),{notification:a}=i.useContext(ae.E_);return[i.useMemo(()=>{const l=f=>{var R;if(!e.current)return;const{open:h,prefixCls:$,notification:N,classNames:Z,styles:A}=e.current,G=(N==null?void 0:N.className)||{},j=(N==null?void 0:N.style)||{},y=`${$}-notice`,c=f,{title:s,message:v,description:F,icon:P,type:I,btn:W,actions:B,className:X,style:x,role:ee="alert",closeIcon:E,closable:S,classNames:L={},styles:M={}}=c,K=Te(c,["title","message","description","icon","type","btn","actions","className","style","role","closeIcon","closable","classNames","styles"]),se=s!=null?s:v,Q=B!=null?B:W,b=Ne(y,wt(E,t,N)),[q,le,,te]=(0,ie.nB)((0,ie.wz)(g(g({},t||{}),f)),(0,ie.wz)(a),{closable:!0,closeIcon:b}),Ce=q?g({onClose:S&&typeof S=="object"?S.onClose:void 0,closeIcon:le},te):!1,ce=(0,re.jK)(L,{props:f}),ye=(0,re.jK)(M,{props:f}),ne=(0,re.Ez)(void 0,Z,ce),$e=(0,re.y0)(A,ye);return h(Y(g({placement:(R=t==null?void 0:t.placement)!=null?R:zt},K),{content:i.createElement(Ve,{prefixCls:y,icon:P,type:I,title:se,description:F,actions:Q,role:ee,classNames:ne,styles:$e}),className:(0,k.W)({[`${y}-${I}`]:I},X,G,ne.root),style:g(g(g({},j),$e.root),x),closable:Ce}))},p={open:l,destroy:f=>{var h,$;f!==void 0?(h=e.current)==null||h.close(f):($=e.current)==null||$.destroy()}};return["success","info","warning","error"].forEach(f=>{p[f]=h=>l(Y(g({},h),{type:f}))}),p},[t,a]),i.createElement(kt,Y(g({key:"notification-holder"},t),{ref:e}))]}function Qt(t){return Xe(t)}let w=null,pe=t=>t(),he=[],me={};function Ke(){const{getContainer:t,rtl:e,maxCount:n,top:a,bottom:u,showProgress:l,pauseOnHover:d}=me,p=(t==null?void 0:t())||document.body;return{getContainer:()=>p,rtl:e,maxCount:n,top:a,bottom:u,showProgress:l,pauseOnHover:d}}const Vt=i.forwardRef((t,e)=>{const{notificationConfig:n,sync:a}=t,{getPrefixCls:u}=(0,i.useContext)(ae.E_),l=me.prefixCls||u("notification"),d=(0,i.useContext)(xt.J),[p,C]=Xe(g(Y(g({},n),{prefixCls:l}),d.notification));return i.useEffect(a,[]),i.useImperativeHandle(e,()=>{const f=g({},p);return Object.keys(f).forEach(h=>{f[h]=(...$)=>(a(),p[h].apply(p,$))}),{instance:f,sync:a}}),C}),Ut=i.forwardRef((t,e)=>{const[n,a]=i.useState(Ke),u=()=>{a(Ke)};i.useEffect(u,[]);const l=(0,Ee.w6)(),d=l.getRootPrefixCls(),p=l.getIconPrefixCls(),C=l.getTheme(),f=i.createElement(Vt,{ref:e,sync:u,notificationConfig:n});return i.createElement(Ee.ZP,{prefixCls:d,iconPrefixCls:p,theme:C},l.holderRender?l.holderRender(f):f)}),Pe=()=>{if(!w){const t=document.createDocumentFragment(),e={fragment:t};w=e,pe(()=>{(0,yt.s)(i.createElement(Ut,{ref:n=>{const{instance:a,sync:u}=n||{};Promise.resolve().then(()=>{!e.instance&&a&&(e.instance=a,e.sync=u,Pe())})}}),t)});return}w.instance&&(he.forEach(t=>{switch(t.type){case"open":{pe(()=>{w.instance.open(g(g({},me),t.config))});break}case"destroy":pe(()=>{var e;(e=w==null?void 0:w.instance)==null||e.destroy(t.key)});break}}),he=[])};function Xt(t){me=g(g({},me),t),pe(()=>{var e;(e=w==null?void 0:w.sync)==null||e.call(w)})}function Ye(t){const e=(0,Ee.w6)();he.push({type:"open",config:t}),Pe()}const Kt=t=>{he.push({type:"destroy",key:t}),Pe()},Yt=["success","info","warning","error"],Je={open:Ye,destroy:Kt,config:Xt,useNotification:Qt,_InternalPanelDoNotUseOrYouWillBeFired:Zt};Yt.forEach(t=>{Je[t]=e=>Ye(Y(g({},e),{type:t}))});const hn=()=>{};let vn=null;const Cn=null;let yn=null;const xn=null;var Jt=Je,qt=o(60672),ve=o(55248),_t={trainPlayInfo:"trainPlayInfo___cZ8NU"},en=Ze.Z.confirm,U=null,tn=function(e){var n=(0,i.useState)(!0),a=J()(n,2),u=a[0],l=a[1],d=(0,i.useState)(!1),p=J()(d,2),C=p[0],f=p[1],h=(0,i.useState)("..."),$=J()(h,2),N=$[0],Z=$[1],A=Jt.useNotification(),G=J()(A,2),j=G[1],y=i.useRef(0),s=i.useRef(0),v=function(S){var L=new SpeechSynthesisUtterance(S),M=e.ttsRate||1;L.rate=1/M,window.speechSynthesis.speak(L)},F=i.useRef(e);F.current=e;var P=function(){var E=Be()(ge()().mark(function S(L,M){var K;return ge()().wrap(function(Q){for(;;)switch(Q.prev=Q.next){case 0:return U!==null&&(K=[],F.current.toneType==="GuitarChords"&&(K=(0,fe.UV)(L)),K.length>0?U.triggerAttackRelease(K,M/1e3):U.triggerAttackRelease(L,M/1e3)),Q.abrupt("return",new Promise(function(b){setTimeout(b,M)}));case 2:case"end":return Q.stop()}},S)}));return function(L,M){return E.apply(this,arguments)}}(),I=i.useMemo(function(){var E=(e.toneDuration||0)+(e.toneWait||0)+(e.ttsWait||0)+(e.referenceNoteEnabled?(e.toneDuration||0)+(e.toneWait||0):0),S=0;return e.ttsEnable&&(S+=1e3,e.ttsSolfege&&(S+=(e.ttsSolfegeWait||0)+1e3),e.ttsNotation&&(S+=(e.ttsNotationWait||0)+1e3)),Math.max(E+S,500)},[e.toneDuration,e.toneWait,e.ttsWait,e.referenceNoteEnabled,e.ttsEnable,e.ttsSolfege,e.ttsSolfegeWait,e.ttsNotation,e.ttsNotationWait]);(0,i.useEffect)(function(){if(u||!e.open){U!==null&&U.triggerRelease(ve.zO());return}var E=!1,S=null,L=null,M=function(){var se=Be()(ge()().mark(function Q(){var b,q,le,te,Ce,ce,ye,ne;return ge()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(!E){c.next=2;break}return c.abrupt("return");case 2:if(b=F.current,q=b.toneList.length,q!==0){c.next=6;break}return c.abrupt("return");case 6:if(le=0,b.random?le=Math.floor(Math.random()*q):le=y.current,te=b.toneList[le],Z(te),b.random){c.next=20;break}if(y.current++,!(y.current>=q)){c.next=18;break}if(y.current=0,s.current++,!(Number(b.loopCount)>0&&s.current>=Number(b.loopCount))){c.next=18;break}return l(!0),c.abrupt("return");case 18:c.next=27;break;case 20:if(y.current++,!(y.current>=q)){c.next=27;break}if(y.current=0,s.current++,!(Number(b.loopCount)>0&&s.current>=Number(b.loopCount))){c.next=27;break}return l(!0),c.abrupt("return");case 27:if(!(b.referenceNoteEnabled&&b.referenceNote)){c.next=36;break}if(!E){c.next=30;break}return c.abrupt("return");case 30:return c.next=32,P(b.referenceNote,b.toneDuration);case 32:if(!E){c.next=34;break}return c.abrupt("return");case 34:return c.next=36,new Promise(function(R){L=setTimeout(R,b.toneWait)});case 36:if(!E){c.next=38;break}return c.abrupt("return");case 38:return c.next=40,P(te,b.toneDuration);case 40:if(!E){c.next=42;break}return c.abrupt("return");case 42:if(!E){c.next=44;break}return c.abrupt("return");case 44:if(!b.ttsEnable){c.next=64;break}return c.next=47,new Promise(function(R){S=setTimeout(R,b.toneWait||200)});case 47:if(!E){c.next=49;break}return c.abrupt("return");case 49:if(v(te),!b.ttsSolfege){c.next=57;break}return c.next=53,new Promise(function(R){S=setTimeout(R,b.ttsSolfegeWait||500)});case 53:if(!E){c.next=55;break}return c.abrupt("return");case 55:Ce=(0,fe.jP)(te),ce=Ce.solfege,ce&&(v(ce),Z(function(R){return"".concat(R," ").concat(ce)}));case 57:if(!b.ttsNotation){c.next=64;break}return c.next=60,new Promise(function(R){S=setTimeout(R,b.ttsNotationWait||500)});case 60:if(!E){c.next=62;break}return c.abrupt("return");case 62:ye=(0,fe.jP)(te),ne=ye.number,ne&&(v(ne),Z(function(R){return"".concat(R," ").concat(ne)}));case 64:case"end":return c.stop()}},Q)}));return function(){return se.apply(this,arguments)}}();M();var K=setInterval(M,I);return function(){E=!0,clearInterval(K),S&&clearTimeout(S),L&&clearTimeout(L),U!==null&&U.triggerRelease(ve.zO())}},[u,e.open,I]),(0,i.useEffect)(function(){e.open&&(y.current=0,s.current=0,Z("..."),f(!1),U||(U=new ve.v2(ve.WV).toDestination()),(0,be.pr)(e.instrumentName).then(function(E){U=E}).catch(function(E){console.error("\u52A0\u8F7D\u97F3\u8272\u9519\u8BEF\uFF0C\u964D\u7EA7\u4F7F\u7528Synth",E)}),l(!1))},[e.open]);var W=function(){l(!u)},B=function(){l(!0),en({title:"\u786E\u8BA4\u505C\u6B62",icon:(0,r.jsx)(Fe.Z,{}),content:"\u786E\u8BA4\u505C\u6B62\u8BAD\u7EC3\u5417\uFF1F",okText:"\u786E\u8BA4\u5173\u95ED",cancelText:"\u6211\u70B9\u9519\u4E86",onOk:function(){e.onCancel()},onCancel:function(){l(!1)}})},X=(0,vt.u)(e.instrumentName),x=X.status,ee=function(){return x==="loading"?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{children:"\u5F53\u524D\u7684\u97F3\u662F"}),(0,r.jsx)("div",{className:"text-yellow-600 text-sm",children:"\u97F3\u8272\u52A0\u8F7D\u4E2D, \u6682\u65F6\u4F7F\u7528MIDI\u97F3..."})]}):x==="error"?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{children:"\u5F53\u524D\u7684\u97F3\u662F"}),(0,r.jsx)("div",{className:"text-red-600 text-sm",children:"\u97F3\u8272\u52A0\u8F7D\u5931\u8D25, \u4F7F\u7528MIDI\u97F3"})]}):"\u5F53\u524D\u7684\u97F3\u662F"};return(0,r.jsxs)(r.Fragment,{children:[j,(0,r.jsx)(Ze.Z,{open:e.open,destroyOnHidden:!0,width:"80%",height:"80%",maskClosable:!1,okText:u?"\u6062\u590D\u8BAD\u7EC3":"\u6682\u505C\u8BAD\u7EC3",onOk:W,cancelText:"\u505C\u6B62\u8BAD\u7EC3",onCancel:B,loading:C,title:C?"\u52A0\u8F7D\u97F3\u8272\u4E2D":"\u8BAD\u7EC3",children:(0,r.jsx)(qt.ZP,{className:_t.trainPlayInfo,title:ee(),subTitle:(0,r.jsx)("div",{className:"text-2xl sm:text-4xl flex items-center justify-center gap-2",children:N}),icon:fe.YD[N]?(0,r.jsx)("div",{className:"flex justify-center",children:(0,r.jsx)(ht.Z,{name:N,fingering:fe.YD[N],width:100,height:140})}):(0,r.jsx)(Ct.Z,{})})})]})},nn=tn,qe=o(67056),on=o(5318),an=o(21004),rn=function(){var e=(0,i.useState)(m.sO),n=J()(e,2),a=n[0],u=n[1],l=(0,i.useState)(!1),d=J()(l,2),p=d[0],C=d[1],f=O.A.useForm(),h=J()(f,1),$=h[0],N=O.A.useWatch("instrumentName",$)||m.OG;(0,i.useEffect)(function(){(0,be.pr)(N).catch(console.error)},[N]);var Z=function(s,v){if(console.log("flattenGroupedTones input:",{groups:s,toneType:v}),v==="GuitarChords"){var F=s.chords||[];return console.log("Returning chords:",F),F}var P=Object.entries(s||{}).filter(function(I){var W=J()(I,1),B=W[0];return!isNaN(Number(B))}).map(function(I){var W=J()(I,2),B=W[1];return B}).flat().filter(Boolean);return console.log("Returning scales:",P),P},A=function(s){var v={};return v.chords=s.filter(function(F){return m.sw.includes(F)}),m.Dz.forEach(function(F){v[F]=s.filter(function(P){return P.endsWith(String(F))&&!m.sw.includes(P)})}),v};(0,i.useEffect)(function(){var y=(0,qe.Tp)(m.F6,null);if(y)try{var s=y;s.toneList&&!s.toneListGroup&&(s.toneListGroup=A(s.toneList));var v=s.loopCountType||String(s.loopCount||0),F=s.loopCountCustom||s.loopCount||10;$.setFieldsValue(H()(H()({},s),{},{loopCountType:v,loopCountCustom:v==="custom"?F:10})),s.instrumentName&&(0,be.pr)(s.instrumentName).catch(console.error),u(H()(H()(H()({},m.sO),s),{},{loopCount:v==="custom"?F:parseInt(v,10),toneList:Z(s.toneListGroup,s.toneType||m.W4)}))}catch(P){console.error("Failed to load settings",P)}},[$]);var G=function(s,v){(0,qe.pd)(m.F6,v,"\u542C\u97F3\u8BAD\u7EC3\u914D\u7F6E")},j=function(s){var v=Z(s.toneListGroup,s.toneType),F=s.loopCountType==="custom"?s.loopCountCustom:parseInt(s.loopCountType,10),P=H()(H()(H()({},m.sO),s),{},{toneList:v,loopCount:isNaN(F)?0:F});u(P),C(!0)};return(0,r.jsxs)(on._z,{ghost:!0,className:"px-1 sm:px-4",header:{title:""},children:[(0,r.jsxs)(O.A,{form:$,size:"large",initialValues:H()(H()({},m.sO),{},{loopCountType:String(m.sO.loopCount),loopCountCustom:10,toneListGroup:A(m.sO.toneList)}),onValuesChange:G,onFinish:j,layout:"horizontal",submitter:{searchConfig:{resetText:"\u91CD\u7F6E",submitText:"\u5F00\u59CB\u8BAD\u7EC3"},render:function(s,v){return(0,r.jsx)(an.S,{children:v})}},children:[(0,r.jsx)(ot.Z,{}),(0,r.jsx)(ct,{}),(0,r.jsx)(mt,{})]}),(0,r.jsx)(nn,H()({open:p,onCancel:function(){return C(!1)}},a))]})},sn=rn}}]);
}());