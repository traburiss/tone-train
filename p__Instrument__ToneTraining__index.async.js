!(function(){"use strict";var gn=Object.defineProperty,hn=Object.defineProperties;var vn=Object.getOwnPropertyDescriptors;var Fe=Object.getOwnPropertySymbols;var ot=Object.prototype.hasOwnProperty,at=Object.prototype.propertyIsEnumerable;var nt=(T,D,o)=>D in T?gn(T,D,{enumerable:!0,configurable:!0,writable:!0,value:o}):T[D]=o,g=(T,D)=>{for(var o in D||(D={}))ot.call(D,o)&&nt(T,o,D[o]);if(Fe)for(var o of Fe(D))at.call(D,o)&&nt(T,o,D[o]);return T},Y=(T,D)=>hn(T,vn(D));var je=(T,D)=>{var o={};for(var z in T)ot.call(T,z)&&D.indexOf(z)<0&&(o[z]=T[z]);if(T!=null&&Fe)for(var z of Fe(T))D.indexOf(z)<0&&at.call(T,z)&&(o[z]=T[z]);return o};(self.webpackChunk=self.webpackChunk||[]).push([[602],{88088:function(T,D,o){o.r(D),o.d(D,{default:function(){return pn}});var z=o(26068),H=o.n(z),rt=o(48305),J=o.n(rt),it=o(93043),m=o(89504),O=o(40624),Ae=o(24486),ee=o(97375),st=o(1501),q=o(59942),xe=o(28322),i=o(75271),be=o(84773),r=o(52676),lt=["fieldProps","unCheckedChildren","checkedChildren","proFieldProps"],ut=i.forwardRef(function(t,e){var n=t.fieldProps,a=t.unCheckedChildren,c=t.checkedChildren,s=t.proFieldProps,d=(0,xe.Z)(t,lt);return(0,r.jsx)(be.Z,(0,q.Z)({valueType:"switch",fieldProps:(0,q.Z)({unCheckedChildren:a,checkedChildren:c},n),ref:e,valuePropName:"checked",proFieldProps:s,filedConfig:{valuePropName:"checked",ignoreWidth:!0,customLightMode:!0}},d))}),de=ut,Ze=o(92418),Be=o(40356),ct=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","showSearch","options"],dt=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","options"],ft=function(e,n){var a=e.fieldProps,c=e.children,s=e.params,d=e.proFieldProps,p=e.mode,v=e.valueEnum,f=e.request,h=e.showSearch,P=e.options,S=(0,xe.Z)(e,ct),A=(0,i.useContext)(Be.Z);return(0,r.jsx)(be.Z,(0,q.Z)((0,q.Z)({valueEnum:(0,Ze.h)(v),request:f,params:s,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,q.Z)({options:P,mode:p,showSearch:h,getPopupContainer:A.getPopupContainer},a),ref:n,proFieldProps:d},S),{},{children:c}))},mt=i.forwardRef(function(t,e){var n=t.fieldProps,a=t.children,c=t.params,s=t.proFieldProps,d=t.mode,p=t.valueEnum,v=t.request,f=t.options,h=(0,xe.Z)(t,dt),P=(0,q.Z)({options:f,mode:d||"multiple",labelInValue:!0,showSearch:!0,suffixIcon:null,autoClearSearchValue:!0,optionLabelProp:"label"},n),S=(0,i.useContext)(Be.Z);return(0,r.jsx)(be.Z,(0,q.Z)((0,q.Z)({valueEnum:(0,Ze.h)(p),request:v,params:c,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,q.Z)({getPopupContainer:S.getPopupContainer},P),ref:e,proFieldProps:s},h),{},{children:a}))}),pt=i.forwardRef(ft),gt=mt,Ee=pt;Ee.SearchSelect=gt,Ee.displayName="ProFormComponent";var ht=Ee,Le=o(45803),vt=function(){return(0,r.jsxs)(Le.Z,{title:"\u57FA\u7840\u914D\u7F6E",className:"mb-3 sm:mb-6",children:[(0,r.jsx)(O.A.Group,{children:(0,r.jsx)(Ae.Z.Group,{name:"instrumentName",label:"\u97F3\u8272\u9009\u62E9",tooltip:"\u7528\u6237\u53EF\u4EE5\u9009\u62E9\u81EA\u5DF1\u4E60\u60EF\u7684\u97F3\u8272\u6765\u542C\u97F3\u540D\u64AD\u653E",radioType:"button",fieldProps:{buttonStyle:"solid",size:"small"},options:m.qL})}),(0,r.jsxs)(O.A.Group,{children:[(0,r.jsx)(Ae.Z.Group,{name:"loopCountType",label:"\u5FAA\u73AF\u6B21\u6570",tooltip:"\u7528\u6237\u53EF\u4EE5\u9009\u62E9\u5FAA\u73AF\u6B21\u6570\uFF0C\u6216\u8005\u81EA\u5B9A\u4E49\u5FAA\u73AF\u6B21\u6570",radioType:"button",fieldProps:{buttonStyle:"solid",size:"small"},options:m.qx}),(0,r.jsx)(ee.Z,{name:["loopCountType"],children:function(n){var a=n.loopCountType;return a==="custom"&&(0,r.jsx)(st.Z,{name:"loopCountCustom",label:" ",width:"xs",placeholder:"\u6B21\u6570",min:1,max:1e3,fieldProps:{precision:0}})}})]}),(0,r.jsx)(O.A.Group,{children:(0,r.jsx)(de,{name:"random",label:"\u968F\u673A\u64AD\u653E",tooltip:"\u4E0D\u8981\u6309\u7167\u97F3\u9636\u987A\u5E8F\u64AD\u653E\u97F3\u9636"})}),(0,r.jsxs)(O.A.Group,{children:[(0,r.jsx)(de,{name:"referenceNoteEnabled",label:"\u64AD\u653E\u57FA\u51C6",tooltip:"\u64AD\u653E\u97F3\u9636\u65F6\uFF0C\u4F1A\u5148\u64AD\u653E\u57FA\u51C6\u97F3\uFF0C\u518D\u64AD\u653E\u97F3\u9636\uFF0C\u4EE5\u964D\u4F4E\u96BE\u5EA6"}),(0,r.jsx)(ee.Z,{name:["referenceNoteEnabled"],children:function(n){var a=n.referenceNoteEnabled;return a&&(0,r.jsx)(ht,{name:"referenceNote",label:" ",width:"xs",options:m.cS,placeholder:"\u9009\u62E9\u57FA\u51C6\u97F3"})}})]})]})},Ct=vt,ae=o(84611),yt=function(){return(0,r.jsxs)(Le.Z,{title:"\u64AD\u653E\u914D\u7F6E",className:"mb-3 sm:mb-6",children:[(0,r.jsxs)(O.A.Group,{title:"\u65F6\u95F4\u8BBE\u7F6E",children:[(0,r.jsx)(ae.Z,{name:"toneDuration",label:"\u97F3\u9636\u65F6\u957F",width:"md",min:m.Qx,max:m.Zf,step:m.LB,fieldProps:{tooltip:{formatter:m.QZ}}}),(0,r.jsx)(ae.Z,{name:"toneWait",label:"\u97F3\u9636\u64AD\u540E\u7B49\u5F85",width:"md",min:m.Qx,max:m.Zf,step:m.LB,fieldProps:{tooltip:{formatter:m.QZ}}})]}),(0,r.jsxs)(O.A.Group,{title:"\u97F3\u540D\u64AD\u62A5\u8BBE\u7F6E",children:[(0,r.jsx)(de,{name:"ttsEnable",label:"\u8BED\u97F3\u62A5\u97F3\u540D",tooltip:"\u6BCF\u6B21\u7ED3\u675F\u540E\u64AD\u62A5\u97F3\u540D"}),(0,r.jsx)(ee.Z,{name:["ttsEnable"],children:function(n){var a=n.ttsEnable;return a&&(0,r.jsx)(ae.Z,{name:"ttsRate",label:"\u62A5\u97F3\u9636\u8BED\u901F",tooltip:"\u500D\u6570\u8D8A\u5927\u8D8A\u6162",width:"md",min:.5,max:4,step:.1,fieldProps:{tooltip:{formatter:function(s){return"".concat(s,"x \u65F6\u957F")}}}})}}),(0,r.jsx)(ee.Z,{name:["ttsEnable"],children:function(n){var a=n.ttsEnable;return a&&(0,r.jsx)(ae.Z,{name:"ttsWait",label:"\u62A5\u97F3\u540D\u540E\u7B49\u5F85",width:"md",min:m.Qx,max:m.Zf,step:m.LB,fieldProps:{tooltip:{formatter:m.QZ}}})}})]}),(0,r.jsx)(ee.Z,{name:["ttsEnable"],children:function(n){var a=n.ttsEnable;return a&&(0,r.jsxs)(O.A.Group,{children:[(0,r.jsx)(de,{name:"ttsSolfege",label:"\u989D\u5916\u62A5\u5531\u540D",tooltip:"\u62A5\u5B8C\u97F3\u540D\u540E\uFF0C\u8FFD\u52A0\u5531\u540D\uFF08\u5982\uFF1ADo\uFF09"}),(0,r.jsx)(ee.Z,{name:["ttsSolfege"],children:function(s){var d=s.ttsSolfege;return d&&(0,r.jsx)(ae.Z,{name:"ttsSolfegeWait",label:"\u5531\u540D\u95F4\u9694",width:"sm",min:m.Qx,max:m.Zf,step:m.LB,fieldProps:{tooltip:{formatter:m.QZ}}})}})]})}}),(0,r.jsx)(ee.Z,{name:["ttsEnable"],children:function(n){var a=n.ttsEnable;return a&&(0,r.jsxs)(O.A.Group,{children:[(0,r.jsx)(de,{name:"ttsNotation",label:"\u989D\u5916\u62A5\u7B80\u8C31",tooltip:"\u62A5\u5B8C\u97F3\u540D\u540E\uFF0C\u8FFD\u52A0\u7B80\u8C31\u8BB0\u53F7\uFF08\u5982\uFF1A1\uFF09"}),(0,r.jsx)(ee.Z,{name:["ttsNotation"],children:function(s){var d=s.ttsNotation;return d&&(0,r.jsx)(ae.Z,{name:"ttsNotationWait",label:"\u7B80\u8C31\u95F4\u9694",width:"sm",min:m.Qx,max:m.Zf,step:m.LB,fieldProps:{tooltip:{formatter:m.QZ}}})}})]})}})]})},Ft=yt,xt=o(90228),pe=o.n(xt),bt=o(87999),We=o.n(bt),Et=o(26007),St=o(92439),fe=o(32401),Se=o(39420),Pe=o(53419),Pt=o(99430),Re=o(1073),Nt=o(24106),$t=o(30371),re=o(85419),Ne=o(44241),Me=o(95977),we=o(6640),Ge=o(9281),ze=o(49735),Tt=o(80743),$e=o(64933),V=o(4814),ie=o(62114),se=o(8201),He=o(95314),k=o(49933),Dt=o(15690),Oe=o(15218),It=o(53925),Ve=o(32748),jt=t=>{const{componentCls:e,notificationMarginEdge:n,animationMaxHeight:a}=t,c=`${e}-notice`,s=new k.E4("antNotificationFadeIn",{"0%":{transform:"translate3d(100%, 0, 0)",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",opacity:1}}),d=new k.E4("antNotificationTopFadeIn",{"0%":{top:-a,opacity:0},"100%":{top:0,opacity:1}}),p=new k.E4("antNotificationBottomFadeIn",{"0%":{bottom:t.calc(a).mul(-1).equal(),opacity:0},"100%":{bottom:0,opacity:1}}),v=new k.E4("antNotificationLeftFadeIn",{"0%":{transform:"translate3d(-100%, 0, 0)",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",opacity:1}});return{[e]:{[`&${e}-top, &${e}-bottom`]:{marginInline:0,[c]:{marginInline:"auto auto"}},[`&${e}-top`]:{[`${e}-fade-enter${e}-fade-enter-active, ${e}-fade-appear${e}-fade-appear-active`]:{animationName:d}},[`&${e}-bottom`]:{[`${e}-fade-enter${e}-fade-enter-active, ${e}-fade-appear${e}-fade-appear-active`]:{animationName:p}},[`&${e}-topRight, &${e}-bottomRight`]:{[`${e}-fade-enter${e}-fade-enter-active, ${e}-fade-appear${e}-fade-appear-active`]:{animationName:s}},[`&${e}-topLeft, &${e}-bottomLeft`]:{marginRight:{value:0,_skip_check_:!0},marginLeft:{value:n,_skip_check_:!0},[c]:{marginInlineEnd:"auto",marginInlineStart:0},[`${e}-fade-enter${e}-fade-enter-active, ${e}-fade-appear${e}-fade-appear-active`]:{animationName:v}}}}};const At=["top","topLeft","topRight","bottom","bottomLeft","bottomRight"],Zt={topLeft:"left",topRight:"right",bottomLeft:"left",bottomRight:"right",top:"left",bottom:"left"},Bt=(t,e)=>{const{componentCls:n}=t;return{[`${n}-${e}`]:{[`&${n}-stack > ${n}-notice-wrapper`]:{[e.startsWith("top")?"top":"bottom"]:0,[Zt[e]]:{value:0,_skip_check_:!0}}}}},Lt=t=>{const e={};for(let n=1;n<t.notificationStackLayer;n++)e[`&:nth-last-child(${n+1})`]={overflow:"hidden",[`& > ${t.componentCls}-notice`]:{opacity:0,transition:`opacity ${t.motionDurationMid}`}};return g({[`&:not(:nth-last-child(-n+${t.notificationStackLayer}))`]:{opacity:0,overflow:"hidden",color:"transparent",pointerEvents:"none"}},e)},Wt=t=>{const e={};for(let n=1;n<t.notificationStackLayer;n++)e[`&:nth-last-child(${n+1})`]={background:t.colorBgBlur,backdropFilter:"blur(10px)","-webkit-backdrop-filter":"blur(10px)"};return g({},e)};var Rt=t=>{const{componentCls:e}=t;return g({[`${e}-stack`]:{[`& > ${e}-notice-wrapper`]:g({transition:`transform ${t.motionDurationSlow}, backdrop-filter 0s`,willChange:"transform, opacity",position:"absolute"},Lt(t))},[`${e}-stack:not(${e}-stack-expanded)`]:{[`& > ${e}-notice-wrapper`]:g({},Wt(t))},[`${e}-stack${e}-stack-expanded`]:{[`& > ${e}-notice-wrapper`]:{"&:not(:nth-last-child(-n + 1))":{opacity:1,overflow:"unset",color:"inherit",pointerEvents:"auto",[`& > ${t.componentCls}-notice`]:{opacity:1}},"&:after":{content:'""',position:"absolute",height:t.margin,width:"100%",insetInline:0,bottom:t.calc(t.margin).mul(-1).equal(),background:"transparent",pointerEvents:"auto"}}}},At.map(n=>Bt(t,n)).reduce((n,a)=>g(g({},n),a),{}))};const Qe=t=>{const{iconCls:e,componentCls:n,boxShadow:a,fontSizeLG:c,notificationMarginBottom:s,borderRadiusLG:d,colorSuccess:p,colorInfo:v,colorWarning:f,colorError:h,colorTextHeading:P,notificationBg:S,notificationPadding:A,notificationMarginEdge:I,progressBg:G,notificationProgressHeight:Z,fontSize:y,lineHeight:l,width:C,notificationIconSize:b,colorText:$,colorSuccessBg:j,colorErrorBg:L,colorInfoBg:B,colorWarningBg:X}=t,F=`${n}-notice`;return{position:"relative",marginBottom:s,marginInlineStart:"auto",background:S,borderRadius:d,boxShadow:a,[F]:{padding:A,width:C,maxWidth:`calc(100vw - ${(0,k.bf)(t.calc(I).mul(2).equal())})`,lineHeight:l,wordWrap:"break-word",borderRadius:d,overflow:"hidden","&-success":j?{background:j}:{},"&-error":L?{background:L}:{},"&-info":B?{background:B}:{},"&-warning":X?{background:X}:{}},[`${F}-title`]:{marginBottom:t.marginXS,color:P,fontSize:c,lineHeight:t.lineHeightLG},[`${F}-description`]:{fontSize:y,color:$,marginTop:t.marginXS},[`${F}-closable ${F}-title`]:{paddingInlineEnd:t.paddingLG},[`${F}-with-icon ${F}-title`]:{marginBottom:t.marginXS,marginInlineStart:t.calc(t.marginSM).add(b).equal(),fontSize:c},[`${F}-with-icon ${F}-description`]:{marginInlineStart:t.calc(t.marginSM).add(b).equal(),fontSize:y},[`${F}-icon`]:{position:"absolute",fontSize:b,lineHeight:1,[`&-success${e}`]:{color:p},[`&-info${e}`]:{color:v},[`&-warning${e}`]:{color:f},[`&-error${e}`]:{color:h}},[`${F}-close`]:g({position:"absolute",top:t.notificationPaddingVertical,insetInlineEnd:t.notificationPaddingHorizontal,color:t.colorIcon,outline:"none",width:t.notificationCloseButtonSize,height:t.notificationCloseButtonSize,borderRadius:t.borderRadiusSM,transition:`background-color ${t.motionDurationMid}, color ${t.motionDurationMid}`,display:"flex",alignItems:"center",justifyContent:"center",background:"none",border:"none","&:hover":{color:t.colorIconHover,backgroundColor:t.colorBgTextHover},"&:active":{backgroundColor:t.colorBgTextActive}},(0,Oe.Qy)(t)),[`${F}-progress`]:{position:"absolute",display:"block",appearance:"none",inlineSize:`calc(100% - ${(0,k.bf)(d)} * 2)`,left:{_skip_check_:!0,value:d},right:{_skip_check_:!0,value:d},bottom:0,blockSize:Z,border:0,"&, &::-webkit-progress-bar":{borderRadius:d,backgroundColor:"rgba(0, 0, 0, 0.04)"},"&::-moz-progress-bar":{background:G},"&::-webkit-progress-value":{borderRadius:d,background:G}},[`${F}-actions`]:{float:"right",marginTop:t.marginSM}}},Mt=t=>{const{componentCls:e,notificationMarginBottom:n,notificationMarginEdge:a,motionDurationMid:c,motionEaseInOut:s}=t,d=`${e}-notice`,p=new k.E4("antNotificationFadeOut",{"0%":{maxHeight:t.animationMaxHeight,marginBottom:n},"100%":{maxHeight:0,marginBottom:0,paddingTop:0,paddingBottom:0,opacity:0}});return[{[e]:Y(g({},(0,Oe.Wf)(t)),{position:"fixed",zIndex:t.zIndexPopup,marginRight:{value:a,_skip_check_:!0},[`${e}-hook-holder`]:{position:"relative"},[`${e}-fade-appear-prepare`]:{opacity:"0 !important"},[`${e}-fade-enter, ${e}-fade-appear`]:{animationDuration:t.motionDurationMid,animationTimingFunction:s,animationFillMode:"both",opacity:0,animationPlayState:"paused"},[`${e}-fade-leave`]:{animationTimingFunction:s,animationFillMode:"both",animationDuration:c,animationPlayState:"paused"},[`${e}-fade-enter${e}-fade-enter-active, ${e}-fade-appear${e}-fade-appear-active`]:{animationPlayState:"running"},[`${e}-fade-leave${e}-fade-leave-active`]:{animationName:p,animationPlayState:"running"},"&-rtl":{direction:"rtl",[`${d}-actions`]:{float:"left"}}})},{[e]:{[`${d}-wrapper`]:Qe(t)}}]},ke=t=>({zIndexPopup:t.zIndexPopupBase+Dt.u6+50,width:384,progressBg:`linear-gradient(90deg, ${t.colorPrimaryBorderHover}, ${t.colorPrimary})`,colorSuccessBg:void 0,colorErrorBg:void 0,colorInfoBg:void 0,colorWarningBg:void 0}),Ue=t=>{const e=t.paddingMD,n=t.paddingLG;return(0,It.IX)(t,{notificationBg:t.colorBgElevated,notificationPaddingVertical:e,notificationPaddingHorizontal:n,notificationIconSize:t.calc(t.fontSizeLG).mul(t.lineHeightLG).equal(),notificationCloseButtonSize:t.calc(t.controlHeightLG).mul(.55).equal(),notificationMarginBottom:t.margin,notificationPadding:`${(0,k.bf)(t.paddingMD)} ${(0,k.bf)(t.paddingContentHorizontalLG)}`,notificationMarginEdge:t.marginLG,animationMaxHeight:150,notificationStackLayer:3,notificationProgressHeight:2})};var Xe=(0,Ve.I$)("Notification",t=>{const e=Ue(t);return[Mt(e),jt(e),Rt(e)]},ke),wt=(0,Ve.bk)(["Notification","PurePanel"],t=>{const e=`${t.componentCls}-notice`,n=Ue(t);return{[`${e}-pure-panel`]:Y(g({},Qe(n)),{width:n.width,maxWidth:`calc(100vw - ${(0,k.bf)(t.calc(n.notificationMarginEdge).mul(2).equal())})`,margin:0})}},ke);const Fn={info:i.createElement(ze.Z,null),success:i.createElement(Me.Z,null),error:i.createElement(we.Z,null),warning:i.createElement(Pe.Z,null),loading:i.createElement(Tt.Z,null)};function Te(t,e){return e===null||e===!1?null:e||i.createElement(Ge.Z,{className:`${t}-close-icon`})}const Gt={success:Me.Z,info:ze.Z,error:we.Z,warning:Pe.Z},Ke=t=>{const{prefixCls:e,icon:n,type:a,title:c,description:s,actions:d,role:p="alert",styles:v,classNames:f}=t;let h=null;return n?h=i.createElement("span",{className:(0,V.W)(`${e}-icon`,f.icon),style:v.icon},n):a&&(h=i.createElement(Gt[a]||null,{className:(0,V.W)(`${e}-icon`,f.icon,`${e}-icon-${a}`),style:v.icon})),i.createElement("div",{className:(0,V.W)({[`${e}-with-icon`]:h}),role:p},h,i.createElement("div",{className:(0,V.W)(`${e}-title`,f.title),style:v.title},c),s&&i.createElement("div",{className:(0,V.W)(`${e}-description`,f.description),style:v.description},s),d&&i.createElement("div",{className:(0,V.W)(`${e}-actions`,f.actions),style:v.actions},d))};var zt=t=>{const x=t,{prefixCls:e,icon:n,type:a,message:c,title:s,description:d,btn:p,actions:v,closeIcon:f,className:h,style:P,styles:S,classNames:A,closable:I}=x,G=je(x,["prefixCls","icon","type","message","title","description","btn","actions","closeIcon","className","style","styles","classNames","closable"]),{getPrefixCls:Z,className:y,style:l,classNames:C,styles:b}=(0,re.dj)("notification"),[$,j]=(0,ie.MW)([C,A],[b,S],{props:t}),{notification:L}=i.useContext(re.E_),B=v!=null?v:p,X=s!=null?s:c,F=e||Z("notification"),te=`${F}-notice`,E=(0,He.Z)(F),[N,W]=Xe(F,E),[M,K,,le]=(0,se.bt)((0,se.wz)(t),(0,se.wz)(L),{closable:!0,closeIcon:i.createElement(Ge.Z,{className:`${F}-close-icon`}),closeIconRender:_=>Te(F,_)}),Q=M?g({onClose:I&&typeof I=="object"?I==null?void 0:I.onClose:void 0,closeIcon:K},le):!1;return i.createElement("div",{className:(0,V.W)(`${te}-pure-panel`,N,h,W,E,$.root),style:j.root},i.createElement(wt,{prefixCls:F}),i.createElement($e.qX,Y(g({style:g(g({},l),P)},G),{prefixCls:F,eventKey:"pure",duration:null,closable:Q,className:(0,V.W)(h,y),content:i.createElement(Ke,{classNames:$,styles:j,prefixCls:te,icon:n,type:a,title:X,description:d,actions:B})})))},Ht=o(60218),Ot=o(30486);function Vt(t,e,n){let a;switch(t){case"top":a={left:"50%",transform:"translateX(-50%)",right:"auto",top:e,bottom:"auto"};break;case"topLeft":a={left:0,top:e,bottom:"auto"};break;case"topRight":a={right:0,top:e,bottom:"auto"};break;case"bottom":a={left:"50%",transform:"translateX(-50%)",right:"auto",top:"auto",bottom:n};break;case"bottomLeft":a={left:0,top:"auto",bottom:n};break;default:a={right:0,top:"auto",bottom:n};break}return a}function Qt(t){return{motionName:`${t}-fade`}}function kt(t,e,n){return typeof t!="undefined"?t:typeof(e==null?void 0:e.closeIcon)!="undefined"?e.closeIcon:n==null?void 0:n.closeIcon}const Ye=24,Ut=4.5,Xt="topRight",Kt=({children:t,prefixCls:e})=>{const n=(0,He.Z)(e),[a,c]=Xe(e,n);return i.createElement($e.JB,{classNames:{list:(0,V.W)(a,c,n)}},t)},Yt=(t,{prefixCls:e,key:n})=>i.createElement(Kt,{prefixCls:e,key:n},t),Jt=i.forwardRef((t,e)=>{const{top:n,bottom:a,prefixCls:c,getContainer:s,maxCount:d,rtl:p,onAllRemoved:v,stack:f,duration:h=Ut,pauseOnHover:P=!0,showProgress:S}=t,{getPrefixCls:A,getPopupContainer:I,direction:G}=(0,re.dj)("notification"),{notification:Z}=(0,i.useContext)(re.E_),[,y]=(0,Ot.ZP)(),l=c||A("notification"),C=(0,i.useMemo)(()=>typeof h=="number"&&h>0?h:!1,[h]),b=te=>Vt(te,n!=null?n:Ye,a!=null?a:Ye),$=()=>(0,V.W)({[`${l}-rtl`]:p!=null?p:G==="rtl"}),j=()=>Qt(l),[L,B]=(0,$e.lm)({prefixCls:l,style:b,className:$,motion:j,closable:{closeIcon:Te(l)},duration:C,getContainer:()=>(s==null?void 0:s())||(I==null?void 0:I())||document.body,maxCount:d,pauseOnHover:P,showProgress:S,onAllRemoved:v,renderNotifications:Yt,stack:f===!1?!1:{threshold:typeof f=="object"?f==null?void 0:f.threshold:void 0,offset:8,gap:y.margin}}),[X,F]=(0,ie.MW)([Z==null?void 0:Z.classNames,t==null?void 0:t.classNames],[Z==null?void 0:Z.styles,t==null?void 0:t.styles],{props:t});return i.useImperativeHandle(e,()=>Y(g({},L),{prefixCls:l,notification:Z,classNames:X,styles:F})),B});function Je(t){const e=i.useRef(null),n=(0,Ht.ln)("Notification"),{notification:a}=i.useContext(re.E_);return[i.useMemo(()=>{const s=f=>{var R;if(!e.current)return;const{open:h,prefixCls:P,notification:S,classNames:A,styles:I}=e.current,G=(S==null?void 0:S.className)||{},Z=(S==null?void 0:S.style)||{},y=`${P}-notice`,u=f,{title:l,message:C,description:b,icon:$,type:j,btn:L,actions:B,className:X,style:F,role:te="alert",closeIcon:E,closable:N,classNames:W={},styles:M={}}=u,K=je(u,["title","message","description","icon","type","btn","actions","className","style","role","closeIcon","closable","classNames","styles"]),le=l!=null?l:C,Q=B!=null?B:L,x=Te(y,kt(E,t,S)),[_,ue,,ne]=(0,se.nB)((0,se.wz)(g(g({},t||{}),f)),(0,se.wz)(a),{closable:!0,closeIcon:x}),Ce=_?g({onClose:N&&typeof N=="object"?N.onClose:void 0,closeIcon:ue},ne):!1,ce=(0,ie.jK)(W,{props:f}),ye=(0,ie.jK)(M,{props:f}),oe=(0,ie.Ez)(void 0,A,ce),Ie=(0,ie.y0)(I,ye);return h(Y(g({placement:(R=t==null?void 0:t.placement)!=null?R:Xt},K),{content:i.createElement(Ke,{prefixCls:y,icon:$,type:j,title:le,description:b,actions:Q,role:te,classNames:oe,styles:Ie}),className:(0,V.W)({[`${y}-${j}`]:j},X,G,oe.root),style:g(g(g({},Z),Ie.root),F),closable:Ce}))},p={open:s,destroy:f=>{var h,P;f!==void 0?(h=e.current)==null||h.close(f):(P=e.current)==null||P.destroy()}};return["success","info","warning","error"].forEach(f=>{p[f]=h=>s(Y(g({},h),{type:f}))}),p},[t,a]),i.createElement(Jt,Y(g({key:"notification-holder"},t),{ref:e}))]}function qt(t){return Je(t)}let w=null,ge=t=>t(),he=[],me={};function qe(){const{getContainer:t,rtl:e,maxCount:n,top:a,bottom:c,showProgress:s,pauseOnHover:d}=me,p=(t==null?void 0:t())||document.body;return{getContainer:()=>p,rtl:e,maxCount:n,top:a,bottom:c,showProgress:s,pauseOnHover:d}}const _t=i.forwardRef((t,e)=>{const{notificationConfig:n,sync:a}=t,{getPrefixCls:c}=(0,i.useContext)(re.E_),s=me.prefixCls||c("notification"),d=(0,i.useContext)($t.J),[p,v]=Je(g(Y(g({},n),{prefixCls:s}),d.notification));return i.useEffect(a,[]),i.useImperativeHandle(e,()=>{const f=g({},p);return Object.keys(f).forEach(h=>{f[h]=(...P)=>(a(),p[h].apply(p,P))}),{instance:f,sync:a}}),v}),en=i.forwardRef((t,e)=>{const[n,a]=i.useState(qe),c=()=>{a(qe)};i.useEffect(c,[]);const s=(0,Ne.w6)(),d=s.getRootPrefixCls(),p=s.getIconPrefixCls(),v=s.getTheme(),f=i.createElement(_t,{ref:e,sync:c,notificationConfig:n});return i.createElement(Ne.ZP,{prefixCls:d,iconPrefixCls:p,theme:v},s.holderRender?s.holderRender(f):f)}),De=()=>{if(!w){const t=document.createDocumentFragment(),e={fragment:t};w=e,ge(()=>{(0,Nt.s)(i.createElement(en,{ref:n=>{const{instance:a,sync:c}=n||{};Promise.resolve().then(()=>{!e.instance&&a&&(e.instance=a,e.sync=c,De())})}}),t)});return}w.instance&&(he.forEach(t=>{switch(t.type){case"open":{ge(()=>{w.instance.open(g(g({},me),t.config))});break}case"destroy":ge(()=>{var e;(e=w==null?void 0:w.instance)==null||e.destroy(t.key)});break}}),he=[])};function tn(t){me=g(g({},me),t),ge(()=>{var e;(e=w==null?void 0:w.sync)==null||e.call(w)})}function _e(t){const e=(0,Ne.w6)();he.push({type:"open",config:t}),De()}const nn=t=>{he.push({type:"destroy",key:t}),De()},on=["success","info","warning","error"],et={open:_e,destroy:nn,config:tn,useNotification:qt,_InternalPanelDoNotUseOrYouWillBeFired:zt};on.forEach(t=>{et[t]=e=>_e(Y(g({},e),{type:t}))});const En=()=>{};let Sn=null;const Pn=null;let Nn=null;const $n=null;var an=et,rn=o(60672),ve=o(55248),sn={trainPlayInfo:"trainPlayInfo___cZ8NU"},ln=Re.Z.confirm,U=null,un=function(e){var n=(0,i.useState)(!0),a=J()(n,2),c=a[0],s=a[1],d=(0,i.useState)(!1),p=J()(d,2),v=p[0],f=p[1],h=(0,i.useState)("..."),P=J()(h,2),S=P[0],A=P[1],I=an.useNotification(),G=J()(I,2),Z=G[1],y=i.useRef(0),l=i.useRef(0),C=function(N){var W=new SpeechSynthesisUtterance(N),M=e.ttsRate||1;W.rate=1/M,window.speechSynthesis.speak(W)},b=i.useRef(e);b.current=e;var $=function(){var E=We()(pe()().mark(function N(W,M){var K;return pe()().wrap(function(Q){for(;;)switch(Q.prev=Q.next){case 0:return U!==null&&(K=[],b.current.toneType==="GuitarChords"&&(K=(0,fe.UV)(W)),K.length>0?U.triggerAttackRelease(K,M/1e3):U.triggerAttackRelease(W,M/1e3)),Q.abrupt("return",new Promise(function(x){setTimeout(x,M)}));case 2:case"end":return Q.stop()}},N)}));return function(W,M){return E.apply(this,arguments)}}(),j=i.useMemo(function(){var E=(e.toneDuration||0)+(e.toneWait||0)+(e.ttsWait||0)+(e.referenceNoteEnabled?(e.toneDuration||0)+(e.toneWait||0):0),N=0;return e.ttsEnable&&(N+=1e3,e.ttsSolfege&&(N+=(e.ttsSolfegeWait||0)+1e3),e.ttsNotation&&(N+=(e.ttsNotationWait||0)+1e3)),Math.max(E+N,500)},[e.toneDuration,e.toneWait,e.ttsWait,e.referenceNoteEnabled,e.ttsEnable,e.ttsSolfege,e.ttsSolfegeWait,e.ttsNotation,e.ttsNotationWait]);(0,i.useEffect)(function(){if(c||!e.open){U!==null&&U.triggerRelease(ve.zO());return}var E=!1,N=null,W=null,M=function(){var le=We()(pe()().mark(function Q(){var x,_,ue,ne,Ce,ce,ye,oe;return pe()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(!E){u.next=2;break}return u.abrupt("return");case 2:if(x=b.current,_=x.toneList.length,_!==0){u.next=6;break}return u.abrupt("return");case 6:if(ue=0,x.random?ue=Math.floor(Math.random()*_):ue=y.current,ne=x.toneList[ue],A(ne),x.random){u.next=20;break}if(y.current++,!(y.current>=_)){u.next=18;break}if(y.current=0,l.current++,!(Number(x.loopCount)>0&&l.current>=Number(x.loopCount))){u.next=18;break}return s(!0),u.abrupt("return");case 18:u.next=27;break;case 20:if(y.current++,!(y.current>=_)){u.next=27;break}if(y.current=0,l.current++,!(Number(x.loopCount)>0&&l.current>=Number(x.loopCount))){u.next=27;break}return s(!0),u.abrupt("return");case 27:if(!(x.referenceNoteEnabled&&x.referenceNote)){u.next=36;break}if(!E){u.next=30;break}return u.abrupt("return");case 30:return u.next=32,$(x.referenceNote,x.toneDuration);case 32:if(!E){u.next=34;break}return u.abrupt("return");case 34:return u.next=36,new Promise(function(R){W=setTimeout(R,x.toneWait)});case 36:if(!E){u.next=38;break}return u.abrupt("return");case 38:return u.next=40,$(ne,x.toneDuration);case 40:if(!E){u.next=42;break}return u.abrupt("return");case 42:if(!E){u.next=44;break}return u.abrupt("return");case 44:if(!x.ttsEnable){u.next=64;break}return u.next=47,new Promise(function(R){N=setTimeout(R,x.toneWait||200)});case 47:if(!E){u.next=49;break}return u.abrupt("return");case 49:if(C(ne),!x.ttsSolfege){u.next=57;break}return u.next=53,new Promise(function(R){N=setTimeout(R,x.ttsSolfegeWait||500)});case 53:if(!E){u.next=55;break}return u.abrupt("return");case 55:Ce=(0,fe.jP)(ne),ce=Ce.solfege,ce&&(C(ce),A(function(R){return"".concat(R," ").concat(ce)}));case 57:if(!x.ttsNotation){u.next=64;break}return u.next=60,new Promise(function(R){N=setTimeout(R,x.ttsNotationWait||500)});case 60:if(!E){u.next=62;break}return u.abrupt("return");case 62:ye=(0,fe.jP)(ne),oe=ye.number,oe&&(C(oe),A(function(R){return"".concat(R," ").concat(oe)}));case 64:case"end":return u.stop()}},Q)}));return function(){return le.apply(this,arguments)}}();M();var K=setInterval(M,j);return function(){E=!0,clearInterval(K),N&&clearTimeout(N),W&&clearTimeout(W),U!==null&&U.triggerRelease(ve.zO())}},[c,e.open,j]),(0,i.useEffect)(function(){e.open&&(y.current=0,l.current=0,A("..."),f(!1),U||(U=new ve.v2(ve.WV).toDestination()),(0,Se.pr)(e.instrumentName).then(function(E){U=E}).catch(function(E){console.error("\u52A0\u8F7D\u97F3\u8272\u9519\u8BEF\uFF0C\u964D\u7EA7\u4F7F\u7528Synth",E)}),s(!1))},[e.open]);var L=function(){s(!c)},B=function(){s(!0),ln({title:"\u786E\u8BA4\u505C\u6B62",icon:(0,r.jsx)(Pe.Z,{}),content:"\u786E\u8BA4\u505C\u6B62\u8BAD\u7EC3\u5417\uFF1F",okText:"\u786E\u8BA4\u5173\u95ED",cancelText:"\u6211\u70B9\u9519\u4E86",onOk:function(){e.onCancel()},onCancel:function(){s(!1)}})},X=(0,St.u)(e.instrumentName),F=X.status,te=function(){return F==="loading"?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{children:"\u5F53\u524D\u7684\u97F3\u662F"}),(0,r.jsx)("div",{className:"text-yellow-600 text-sm",children:"\u97F3\u8272\u52A0\u8F7D\u4E2D, \u6682\u65F6\u4F7F\u7528MIDI\u97F3..."})]}):F==="error"?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{children:"\u5F53\u524D\u7684\u97F3\u662F"}),(0,r.jsx)("div",{className:"text-red-600 text-sm",children:"\u97F3\u8272\u52A0\u8F7D\u5931\u8D25, \u4F7F\u7528MIDI\u97F3"})]}):"\u5F53\u524D\u7684\u97F3\u662F"};return(0,r.jsxs)(r.Fragment,{children:[Z,(0,r.jsx)(Re.Z,{open:e.open,destroyOnHidden:!0,width:"80%",height:"80%",maskClosable:!1,okText:c?"\u6062\u590D\u8BAD\u7EC3":"\u6682\u505C\u8BAD\u7EC3",onOk:L,cancelText:"\u505C\u6B62\u8BAD\u7EC3",onCancel:B,loading:v,title:v?"\u52A0\u8F7D\u97F3\u8272\u4E2D":"\u8BAD\u7EC3",children:(0,r.jsx)(rn.ZP,{className:sn.trainPlayInfo,title:te(),subTitle:(0,r.jsx)("div",{className:"text-2xl sm:text-4xl flex items-center justify-center gap-2",children:S}),icon:fe.YD[S]?(0,r.jsx)("div",{className:"flex justify-center",children:(0,r.jsx)(Et.Z,{name:S,fingering:fe.YD[S],width:100,height:140})}):(0,r.jsx)(Pt.Z,{})})})]})},cn=un,tt=o(67056),dn=o(5318),fn=o(21004),mn=function(){var e=(0,i.useState)(m.sO),n=J()(e,2),a=n[0],c=n[1],s=(0,i.useState)(!1),d=J()(s,2),p=d[0],v=d[1],f=O.A.useForm(),h=J()(f,1),P=h[0],S=O.A.useWatch("instrumentName",P)||m.OG;(0,i.useEffect)(function(){(0,Se.pr)(S).catch(console.error)},[S]);var A=function(l,C){if(console.log("flattenGroupedTones input:",{groups:l,toneType:C}),C==="GuitarChords"){var b=l.chords||[];return console.log("Returning chords:",b),b}var $=Object.entries(l||{}).filter(function(j){var L=J()(j,1),B=L[0];return!isNaN(Number(B))}).map(function(j){var L=J()(j,2),B=L[1];return B}).flat().filter(Boolean);return console.log("Returning scales:",$),$},I=function(l){var C={};return C.chords=l.filter(function(b){return m.sw.includes(b)}),m.Dz.forEach(function(b){C[b]=l.filter(function($){return $.endsWith(String(b))&&!m.sw.includes($)})}),C};(0,i.useEffect)(function(){var y=(0,tt.Tp)(m.F6,null);if(y)try{var l=y;l.toneList&&!l.toneListGroup&&(l.toneListGroup=I(l.toneList));var C=l.loopCountType||String(l.loopCount||0),b=l.loopCountCustom||l.loopCount||10;P.setFieldsValue(H()(H()({},l),{},{loopCountType:C,loopCountCustom:C==="custom"?b:10})),l.instrumentName&&(0,Se.pr)(l.instrumentName).catch(console.error),c(H()(H()(H()({},m.sO),l),{},{loopCount:C==="custom"?b:parseInt(C,10),toneList:A(l.toneListGroup,l.toneType||m.W4)}))}catch($){console.error("Failed to load settings",$)}},[P]);var G=function(l,C){(0,tt.pd)(m.F6,C,"\u542C\u97F3\u8BAD\u7EC3\u914D\u7F6E")},Z=function(l){var C=A(l.toneListGroup,l.toneType),b=l.loopCountType==="custom"?l.loopCountCustom:parseInt(l.loopCountType,10),$=H()(H()(H()({},m.sO),l),{},{toneList:C,loopCount:isNaN(b)?0:b});c($),v(!0)};return(0,r.jsxs)(dn._z,{ghost:!0,className:"px-1 sm:px-4",header:{title:""},children:[(0,r.jsxs)(O.A,{form:P,size:"large",initialValues:H()(H()({},m.sO),{},{loopCountType:String(m.sO.loopCount),loopCountCustom:10,toneListGroup:I(m.sO.toneList)}),onValuesChange:G,onFinish:Z,layout:"horizontal",submitter:{searchConfig:{resetText:"\u91CD\u7F6E",submitText:"\u5F00\u59CB\u8BAD\u7EC3"},render:function(l,C){return(0,r.jsx)(fn.S,{children:C})}},children:[(0,r.jsx)(it.Z,{}),(0,r.jsx)(Ct,{}),(0,r.jsx)(Ft,{})]}),(0,r.jsx)(cn,H()({open:p,onCancel:function(){return v(!1)}},a))]})},pn=mn}}]);
}());